# ol-util

[![Greenkeeper badge](https://badges.greenkeeper.io/terrestris/ol-util.svg)](https://greenkeeper.io/)
[![Build Status](https://travis-ci.org/terrestris/ol-util.svg?branch=master)](https://travis-ci.org/terrestris/ol-util)
[![Coverage Status](https://coveralls.io/repos/github/terrestris/ol-util/badge.svg?branch=master)](https://coveralls.io/github/terrestris/ol-util?branch=master)

A set of helper classes for working with OpenLayers

## Installation

```javascript static
npm i @terrestris/ol-util
```

## API Documentation

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [AnimateUtil](#animateutil)
    -   [moveFeature](#movefeature)
        -   [Parameters](#parameters)
-   [CapabilitiesUtil](#capabilitiesutil)
    -   [parseWmsCapabilities](#parsewmscapabilities)
        -   [Parameters](#parameters-1)
    -   [getLayersFromWmsCapabilities](#getlayersfromwmscapabilities)
        -   [Parameters](#parameters-2)
-   [FeatureUtil](#featureutil)
    -   [getFeatureTypeName](#getfeaturetypename)
        -   [Parameters](#parameters-3)
    -   [resolveAttributeTemplate](#resolveattributetemplate)
        -   [Parameters](#parameters-4)
-   [FileUtil](#fileutil)
    -   [addGeojsonLayerFromFile](#addgeojsonlayerfromfile)
        -   [Parameters](#parameters-5)
    -   [addShpLayerFromFile](#addshplayerfromfile)
        -   [Parameters](#parameters-6)
    -   [addGeojsonLayer](#addgeojsonlayer)
        -   [Parameters](#parameters-7)
-   [GeometryUtil](#geometryutil)
    -   [splitByLine](#splitbyline)
        -   [Parameters](#parameters-8)
    -   [addBuffer](#addbuffer)
        -   [Parameters](#parameters-9)
    -   [mergeGeometries](#mergegeometries)
        -   [Parameters](#parameters-10)
    -   [separateGeometries](#separategeometries)
        -   [Parameters](#parameters-11)
    -   [union](#union)
        -   [Parameters](#parameters-12)
    -   [difference](#difference)
        -   [Parameters](#parameters-13)
    -   [intersection](#intersection)
        -   [Parameters](#parameters-14)
-   [MapUtil](#maputil)
    -   [getInteractionsByName](#getinteractionsbyname)
        -   [Parameters](#parameters-15)
    -   [getInteractionsByClass](#getinteractionsbyclass)
        -   [Parameters](#parameters-16)
    -   [getResolutionForScale](#getresolutionforscale)
        -   [Parameters](#parameters-17)
    -   [getScaleForResolution](#getscaleforresolution)
        -   [Parameters](#parameters-18)
    -   [getAllLayers](#getalllayers)
        -   [Parameters](#parameters-19)
    -   [getLayerByOlUid](#getlayerbyoluid)
        -   [Parameters](#parameters-20)
    -   [getLayerByName](#getlayerbyname)
        -   [Parameters](#parameters-21)
    -   [getLayerByNameParam](#getlayerbynameparam)
        -   [Parameters](#parameters-22)
    -   [getLayerByFeature](#getlayerbyfeature)
        -   [Parameters](#parameters-23)
    -   [getLayersByGroup](#getlayersbygroup)
        -   [Parameters](#parameters-24)
    -   [getLayersByProperty](#getlayersbyproperty)
        -   [Parameters](#parameters-25)
    -   [getLayerPositionInfo](#getlayerpositioninfo)
        -   [Parameters](#parameters-26)
    -   [getLegendGraphicUrl](#getlegendgraphicurl)
        -   [Parameters](#parameters-27)
    -   [layerInResolutionRange](#layerinresolutionrange)
        -   [Parameters](#parameters-28)
    -   [roundScale](#roundscale)
        -   [Parameters](#parameters-29)
    -   [getZoomForScale](#getzoomforscale)
        -   [Parameters](#parameters-30)
-   [MeasureUtil](#measureutil)
    -   [getLength](#getlength)
        -   [Parameters](#parameters-31)
    -   [formatLength](#formatlength)
        -   [Parameters](#parameters-32)
    -   [getArea](#getarea)
        -   [Parameters](#parameters-33)
    -   [formatArea](#formatarea)
        -   [Parameters](#parameters-34)
    -   [angle](#angle)
        -   [Parameters](#parameters-35)
    -   [angle360](#angle360)
        -   [Parameters](#parameters-36)
    -   [makeClockwise](#makeclockwise)
        -   [Parameters](#parameters-37)
    -   [makeZeroDegreesAtNorth](#makezerodegreesatnorth)
        -   [Parameters](#parameters-38)
    -   [formatAngle](#formatangle)
        -   [Parameters](#parameters-39)
-   [defaultProj4CrsDefinitions](#defaultproj4crsdefinitions)
-   [defaultProj4CrsMappings](#defaultproj4crsmappings)
-   [ProjectionUtil](#projectionutil)
    -   [initProj4Definitions](#initproj4definitions)
        -   [Parameters](#parameters-40)
    -   [initProj4DefinitionMappings](#initproj4definitionmappings)
        -   [Parameters](#parameters-41)
-   [WfsFilterUtil](#wfsfilterutil)
    -   [getCombinedRequests](#getcombinedrequests)
        -   [Parameters](#parameters-42)

### AnimateUtil

This class provides some static methods which might be helpful when working
with digitize functions to animate features.

#### moveFeature

Moves / translates an `OlFeature` to the given `pixel` delta in
in the end with given `duration` in ms, using the given style.

##### Parameters

-   `map` **ol.Map** An OlMap.
-   `featureToMove` **ol.Feature** The feature to move.
-   `duration` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The duration in ms for the moving to complete.
-   `pixel` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** Delta of pixels to move the feature.
-   `style` **ol.style.Style** The style to use when moving the feature.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** A listener key from a postcompose event.

### CapabilitiesUtil

Helper class to parse capabilities of WMS layers

#### parseWmsCapabilities

Parses the given WMS Capabilities string.

##### Parameters

-   `capabilitiesUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Url to WMS capabilities document

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object representing the WMS capabilities.

#### getLayersFromWmsCapabilities

Returns the layers from a parsed WMS GetCapabilities object.

##### Parameters

-   `capabilities` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** A capabilities object.
-   `nameField` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Configure the field which should be set as the
                              'name' property in the openlayers layer. (optional, default `'Name'`)
-   `proxyFn` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Optional proxy function which can be applied to
                              `GetMap`, `GetFeatureInfo` and `GetLegendGraphic`
                              requests to avoid CORS issues.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;OlLayerTile>** Array of OlLayerTile

### FeatureUtil

Helper class for working with OpenLayers features.

#### getFeatureTypeName

Returns the featureType name out of a given feature. It assumes that
the feature has an ID in the following structure FEATURETYPE.FEATUREID.

##### Parameters

-   `feature` **ol.Feature** The feature to obtain the featureType
                                name from.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The (unqualified) name of the featureType or undefined if
                 the name could not be picked.

#### resolveAttributeTemplate

Resolves the given template string with the given feature attributes, e.g.
the template "Size of area is {{AREA_SIZE}} km²" would be to resolved
to "Size of area is 1909 km²" (assuming the feature's attribute AREA_SIZE
really exists).

##### Parameters

-   `feature` **ol.Feature** The feature to get the attributes from.
-   `template` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The template string to resolve.
-   `noValueFoundText` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** The text to apply, if the templated value
      could not be found, default is to 'n.v.'. (optional, default `'n.v.'`)
-   `valueAdjust` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)?** A method that will be called with each
      key/value match, we'll use what this function returns for the actual
      replacement. Optional, defaults to a function which will return the raw
      value it received. This can be used for last minute adjustments before
      replacing happens, e.g. to filter out falsy values or to do number
      formatting and such. (optional, default `(key,val)=>val`)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The resolved template string.

### FileUtil

Helper class for adding layers from various file formats.

#### addGeojsonLayerFromFile

Adds a new vector layer from a geojson file.

##### Parameters

-   `file` **File** the file to read the geojson from
-   `map` **ol.Map** the map to add the layer to

#### addShpLayerFromFile

Adds a new vector layer from a shape file (zip).

##### Parameters

-   `file` **File** the file to read the geojson from
-   `map` **ol.Map** the map to add the layer to

#### addGeojsonLayer

Adds a new vector layer from a geojson string.

##### Parameters

-   `json` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** the geojson string
-   `map` **ol.Map** the map to add the layer to

### GeometryUtil

Helper class for the geospatial analysis. Makes use of
[Turf.js](http://turfjs.org/).

#### splitByLine

Splits an ol.feature with/or ol.geom.Polygon by an ol.feature with/or ol.geom.LineString
into an array of instances of ol.feature with/or ol.geom.Polygon.
If the target polygon (first param) is of type ol.Feature it will return an
array with ol.Feature. If the target polygon (first param) is of type
ol.geom.Geometry it will return an array with ol.geom.Geometry.

##### Parameters

-   `polygon` **(ol.Feature | ol.geom.Polygon)** The polygon geometry to split.
-   `line` **(ol.Feature | ol.geom.LineString)** The line geometry to split the polygon
     geometry with.
-   `projection` **ol.ProjectionLike** The EPSG code of the input features.
     Default is to EPSG:3857. (optional, default `'EPSG:3857'`)

Returns **([Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.Feature> | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.Polygon>)** An array of instances of ol.feature
 with/or ol.geom.Polygon

#### addBuffer

Adds a buffer to a given geometry.

If the target is of type ol.Feature it will return an ol.Feature.
If the target is of type ol.geom.Geometry it will return ol.geom.Geometry.

##### Parameters

-   `geometry` **(ol.geom.Geometry | ol.Feature)** The geometry.
-   `radius` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The buffer to add in meters. (optional, default `0`)
-   `projection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The projection of the input geometry as EPSG code.
     Default is to EPSG:3857. (optional, default `'EPSG:3857'`)

Returns **(ol.geom.Geometry | ol.Feature)** The geometry or feature with the added buffer.

#### mergeGeometries

Merges multiple geometries into one MultiGeometry.

##### Parameters

-   `geometries` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.Geometry>** An array of ol.geom.geometries;

Returns **(ol.geom.MultiPoint | ol.geom.MultiPolygon | ol.geom.MultiLineString)** A Multigeometry.

#### separateGeometries

Splits an array of geometries (and multi geometries) or a single MultiGeom
into an array of single geometries.

Attention: ol.geom.Circle and ol.geom.LinearRing are not supported.

##### Parameters

-   `geometries` **(ol.geom.SimpleGeometry | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.SimpleGeometry>)** An (array of) ol.geom.geometries;

Returns **([Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.Point> | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.Polygon> | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.LineString>)** An array of geometries.

#### union

Takes two or more polygons and returns a combined (Multi-)polygon.

##### Parameters

-   `polygons` **([Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.geom.Geometry> | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.Feature>)** An array of ol.Feature
     or ol.geom.Geometry instances of type (Multi-)polygon.
-   `projection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The projection of the input polygons as EPSG code.
     Default is to EPSG:3857. (optional, default `'EPSG:3857'`)

Returns **(ol.geom.Geometry | ol.Feature)** A Feature or Geometry with the
combined area of the (Multi-)polygons.

#### difference

Finds the difference between two polygons by clipping the second polygon from the first.

##### Parameters

-   `polygon1` **(ol.geom.Geometry | ol.Feature)** An ol.geom.Geometry or ol.Feature
-   `polygon2` **(ol.geom.Geometry | ol.Feature)** An ol.geom.Geometry or ol.Feature
-   `projection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The projection of the input polygons as EPSG code.
     Default is to EPSG:3857. (optional, default `'EPSG:3857'`)

Returns **(ol.geom.Geometry | ol.Feature)** A Feature or Geometry with the area
 of polygon1 excluding the area of polygon2. The type of the first polygon
 (geometry or feature) determines the return type.

#### intersection

Takes two polygons and finds their intersection.

If the polygons are of type ol.Feature it will return an ol.Feature.
If the polygons are of type ol.geom.Geometry it will return an ol.geom.Geometry.

##### Parameters

-   `polygon1` **(ol.geom.Geometry | ol.Feature)** An ol.geom.Geometry or ol.Feature
-   `polygon2` **(ol.geom.Geometry | ol.Feature)** An ol.geom.Geometry or ol.Feature
-   `projection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The projection of the input polygons as EPSG code.
     Default is to EPSG:3857. (optional, default `'EPSG:3857'`)

Returns **(ol.geom.Geometry | ol.Feature)** A Feature or Geometry with the
shared area of the two polygons or null if the polygons don't intersect.

### MapUtil

Helper class for the OpenLayers map.

#### getInteractionsByName

Returns all interactions by the given name of a map.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the interaction to look for.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.interaction>** The list of result interactions.

#### getInteractionsByClass

Returns all interactions of the given class of the passed map.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `clazz` **ol.interaction** The class of the interaction to look for.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.interaction>** The list of result interactions.

#### getResolutionForScale

Calculates the appropriate map resolution for a given scale in the given
units.

See: <https://gis.stackexchange.com/questions/158435/>
how-to-get-current-scale-in-openlayers-3

##### Parameters

-   `scale` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The input scale to calculate the appropriate
                          resolution for.
-   `units` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The units to use for calculation (m or degrees).

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The calculated resolution.

#### getScaleForResolution

Returns the appropriate scale for the given resolution and units.

##### Parameters

-   `resolution` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The resolutions to calculate the scale for.
-   `units` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The units the resolution is based on, typically
                          either 'm' or 'degrees'.

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The appropriate scale.

#### getAllLayers

Returns all layers of a collection. Even the hidden ones.

##### Parameters

-   `collection` **(ol.Map | ol.layer.Group)** The collection to get the layers
                                              from. This can be an ol.layer.Group
                                              or an ol.Map.
-   `filter` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)?** A filter function that receives the layer.
                               If it returns true it will be included in the
                               returned layers. (optional, default `()=>true`)

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** An array of all Layers.

#### getLayerByOlUid

Get a layer by its key (ol_uid).

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `ol_uid` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The ol_uid of a layer.

Returns **ol.layer.Layer** The layer.

#### getLayerByName

Returns the layer from the provided map by the given name.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The name to get the layer by.

Returns **ol.Layer** The result layer or undefined if the layer could not
                   be found.

#### getLayerByNameParam

Returns the layer from the provided map by the given name
(parameter LAYERS).

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The name to get the layer by.

Returns **ol.Layer** The result layer or undefined if the layer could not
                   be found.

#### getLayerByFeature

Returns the layer from the provided map by the given feature.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `feature` **ol.Feature** The feature to get the layer by.
-   `namespaces` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** list of supported GeoServer namespaces.

Returns **ol.Layer** The result layer or undefined if the layer could not
                   be found.

#### getLayersByGroup

Returns all layers of the specified layer group recursively.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `layerGroup` **ol.Layer.Group** The group to flatten.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** The (flattened) layers from the group

#### getLayersByProperty

Returns the list of layers matching the given pair of properties.

##### Parameters

-   `map` **ol.Map** The map to use for lookup.
-   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The property key.
-   `value` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The property value.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;ol.layer.Base>** The array of matching layers.

#### getLayerPositionInfo

Get information about the LayerPosition in the tree.

##### Parameters

-   `layer` **ol.layer.Layer** The layer to get the information.
-   `groupLayerOrMap` **(ol.layer.Group | ol.Map)?** The groupLayer or map
                                                     containing the layer.

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object with these keys:
   {ol.layer.Group} groupLayer The groupLayer containing the layer.
   {Integer} position The position of the layer in the collection.

#### getLegendGraphicUrl

Get the getlegendGraphic url of a layer. Designed for geoserver.
Currently supported Sources:

-   ol.source.TileWms (with url configured)
-   ol.source.ImageWms (with url configured)

##### Parameters

-   `layer` **ol.layer.Layer** The layer that you want to have a legendUrlfor.
-   `extraParams`

Returns **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** The getLegendGraphicUrl.

#### layerInResolutionRange

Checks whether the resolution of the passed map's view lies inside of the
min- and max-resolution of the passed layer, e.g. whether the layer should
be displayed at the current map view resolution.

##### Parameters

-   `layer` **ol.layer.Layer** The layer to check.
-   `map` **ol.Map** The map to get the view resolution for comparison
        from.

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether the resolution of the passed map's view lies
    inside of the min- and max-resolution of the passed layer, e.g. whether
    the layer should be displayed at the current map view resolution. Will
    be `false` when no `layer` or no `map` is passed or if the view of the
    map is falsy or does not have a resolution (yet).

#### roundScale

Rounds a scalenumber in dependency to its size.

##### Parameters

-   `scale` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The exact scale

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The roundedScale

#### getZoomForScale

Returns the appropriate zoom level for the given scale and units.

##### Parameters

-   `scale` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Map scale to get the zoom for.
-   `resolutions` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** Resolutions array.
-   `units` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The units the resolutions are based on, typically
                          either 'm' or 'degrees'. Default is 'm'. (optional, default `'m'`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Determined zoom level for the given scale.

### MeasureUtil

This class provides some static methods which might be helpful when working
with measurements.

#### getLength

Get the length of a OlGeomLineString.

##### Parameters

-   `line` **OlGeomLineString** The drawn line.
-   `map` **OlMap** An OlMap.
-   `geodesic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Is the measurement geodesic (default is true). (optional, default `true`)
-   `radius` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Sphere radius. By default, the radius of the earth
                           is used (Clarke 1866 Authalic Sphere, 6371008.8). (optional, default `6371008.8`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The length of line in meters.

#### formatLength

Format length output for the tooltip.

##### Parameters

-   `line` **OlGeomLineString** The drawn line.
-   `map` **OlMap** An OlMap.
-   `decimalPlacesInToolTips` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** How many decimal places will be
      allowed for the measure tooltips
-   `geodesic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Is the measurement geodesic (default is true). (optional, default `true`)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The formatted length of the line.

#### getArea

Get the area of a OlGeomPolygon.

##### Parameters

-   `polygon` **OlGeomPolygon** The drawn polygon.
-   `map` **OlMap** An OlMap.
-   `geodesic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Is the measurement geodesic (default is true). (optional, default `true`)
-   `radius` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Sphere radius. By default, the radius of the earth
                           is used (Clarke 1866 Authalic Sphere, 6371008.8). (optional, default `6371008.8`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The area of the polygon in square meter.

#### formatArea

Format length output for the tooltip.

##### Parameters

-   `polygon` **OlGeomPolygon** The drawn polygon.
-   `map` **OlMap** An OlMap.
-   `decimalPlacesInToolTips` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** How many decimal places will be
      allowed for the measure tooltips.
-   `geodesic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Is the measurement geodesic. (optional, default `true`)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The formatted area of the polygon.

#### angle

Determine the angle between two coordinates. The angle will be between
\-180° and 180°, with 0° being in the east. The angle will increase
counter-clockwise.

Inspired by <https://stackoverflow.com/a/31136507>

##### Parameters

-   `start` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The start coordinates of the line with the
        x-coordinate being at index `0` and y-coordinate being at index `1`.
-   `end` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The end coordinates of the line with the
        x-coordinate being at index `0` and y-coordinate being at index `1`.

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the angle in degreees, ranging from -180° to 180°.

#### angle360

Determine the angle between two coordinates. The angle will be between
0° and 360°, with 0° being in the east. The angle will increase
counter-clockwise.

Inspired by <https://stackoverflow.com/a/31136507>

##### Parameters

-   `start` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The start coordinates of the line with the
        x-coordinate being at index `0` and y-coordinate being at index `1`.
-   `end` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The end coordinates of the line with the
        x-coordinate being at index `0` and y-coordinate being at index `1`.

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the angle in degrees, ranging from 0° and 360°.

#### makeClockwise

Given an angle between 0° and 360° this angle returns the exact opposite
of the angle, e.g. for 90° you'll get back 270°. This effectively turns
the direction of the angle from counter-clockwise to clockwise.

##### Parameters

-   `angle360` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The input angle obtained counter-clockwise.

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The clockwise angle.

#### makeZeroDegreesAtNorth

This methods adds an offset of 90° to an counter-clockwise increasing
angle of a line so that the origin (0°) lies at the top (in the north).

##### Parameters

-   `angle360` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The input angle obtained counter-clockwise, with
        0° degrees being in the east.

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The adjusted angle, with 0° being in the north.

#### formatAngle

Returns the angle of the passed linestring in degrees, with 'N' being the
0°-line and the angle increases in clockwise direction.

##### Parameters

-   `line` **OlGeomLineString** The linestring to get the
      angle from. As this line is comming from our internal draw
      interaction, we know that it will only consist of two points.
-   `decimalPlacesInToolTips` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** How many decimal places will be
      allowed for the measure tooltips. (optional, default `2`)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The formatted angle of the line.

### defaultProj4CrsDefinitions

Default proj4 CRS definitions.

### defaultProj4CrsMappings

Default mappings for CRS identifiers (e.g. "urn:ogc:def:crs:EPSG::25832").

### ProjectionUtil

Helper class for projection handling. Makes use of
[Proj4js](http://proj4js.org/).

#### initProj4Definitions

Registers custom CRS definitions to the application.

##### Parameters

-   `customCrsDefs` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The custom `proj4` definition strings
      which should be registered additionally to default avaliable CRS (s.
      `defaultProj4CrsDefinitions` above) as well.
      Further CRS definitions in proj4 format can be checked under
      <http://epsg.io> (e.g. <http://epsg.io/3426.proj4>).
-   `registerDefaults` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether the default CRS should be
      registered or not. Default is true. (optional, default `true`)

#### initProj4DefinitionMappings

Registers custom CRS mappings to allow automatic CRS detection. Sometimes
FeatureCollections returned by the GeoServer may be associated with
CRS identifiers (e.g. "urn:ogc:def:crs:EPSG::25832") that aren't
supported by `proj4` and `OpenLayers` per default. Add appropriate
mappings to allow automatic CRS detection by `OpenLayers` here.

##### Parameters

-   `customCrsMappings` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The custom CRS mappings which will be
      added additionally to the by default avaliable (s. `defaultProj4CrsMappings`
      above).
-   `useDefaultMappings` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether the default CRS should be mapped
      as well or not. Default is true. (optional, default `true`)

### WfsFilterUtil

Helper class for building filters to be used with WFS GetFeature requests.

#### getCombinedRequests

Creates GetFeature request body for all provided featureTypes and
applies related filter encoding on it.

##### Parameters

-   `searchOpts` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Search options object which has the following
    keys (see also <https://github.com/terrestris/react-geo/blob/master/src/Field/WfsSearch/>
    for further options explanations and examples):-   featureNS        {String}   The namespace URI used for features
    -   featurePrefix    {String}   The prefix for the feature namespace.
    -   featureTypes     {String\[]} The feature type names to search through.
    -   geometryName     {String}   Geometry name to use in a BBOX filter.
    -   maxFeatures      {Number}   Maximum number of features to fetch.
    -   outputFormat     {String}   The output format of the response.
    -   propertyNames    {String\[]} Optional list of property names to serialize.
    -   srsName          {String}   SRS name.
    -   wfsFormatOptions {Object}   Options which are passed to the constructor of the ol.format.WFS
                                    (compare: <https://openlayers.org/en/latest/apidoc/ol.format.WFS.html>)
    -   searchAttributes {Object}   An object mapping feature types to an array
                                    of attributes that should be searched through.
    -   attributeDetails {Object}   A nested object mapping feature types to an
                                    object of attribute details, which are also
                                    mapped by search attribute name.
-   `searchTerm` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Search string to be used with filter.
