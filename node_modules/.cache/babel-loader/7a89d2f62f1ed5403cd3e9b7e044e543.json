{"ast":null,"code":"/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar component_1 = require(\"../widgets/component\");\n\nvar context_1 = require(\"../context/context\");\n\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\n\nvar columnController_1 = require(\"../columnController/columnController\");\n\nvar column_1 = require(\"../entities/column\");\n\nvar eventService_1 = require(\"../eventService\");\n\nvar events_1 = require(\"../events\");\n\nvar headerWrapperComp_1 = require(\"./header/headerWrapperComp\");\n\nvar headerGroupWrapperComp_1 = require(\"./headerGroup/headerGroupWrapperComp\");\n\nvar filterManager_1 = require(\"../filter/filterManager\");\n\nvar gridApi_1 = require(\"../gridApi\");\n\nvar constants_1 = require(\"../constants\");\n\nvar utils_1 = require(\"../utils\");\n\nvar floatingFilterWrapper_1 = require(\"../filter/floating/floatingFilterWrapper\");\n\nvar HeaderRowType;\n\n(function (HeaderRowType) {\n  HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n  HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n  HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType = exports.HeaderRowType || (exports.HeaderRowType = {}));\n\nvar HeaderRowComp =\n/** @class */\nfunction (_super) {\n  __extends(HeaderRowComp, _super);\n\n  function HeaderRowComp(dept, type, pinned, dropTarget) {\n    var _this = _super.call(this, \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\"/>\") || this;\n\n    _this.headerComps = {};\n    _this.dept = dept;\n    _this.type = type;\n    _this.pinned = pinned;\n    _this.dropTarget = dropTarget;\n    return _this;\n  }\n\n  HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n    var _this = this;\n\n    Object.keys(this.headerComps).forEach(function (key) {\n      callback(_this.headerComps[key]);\n    });\n  };\n\n  HeaderRowComp.prototype.destroy = function () {\n    var idsOfAllChildren = Object.keys(this.headerComps);\n    this.removeAndDestroyChildComponents(idsOfAllChildren);\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HeaderRowComp.prototype.removeAndDestroyChildComponents = function (idsToDestroy) {\n    var _this = this;\n\n    idsToDestroy.forEach(function (id) {\n      var childHeaderComp = _this.headerComps[id];\n\n      _this.getGui().removeChild(childHeaderComp.getGui());\n\n      childHeaderComp.destroy();\n      delete _this.headerComps[id];\n    });\n  };\n\n  HeaderRowComp.prototype.onRowHeightChanged = function () {\n    var headerRowCount = this.columnController.getHeaderRowCount();\n    var sizes = [];\n    var numberOfFloating = 0;\n    var groupHeight;\n    var headerHeight;\n\n    if (!this.columnController.isPivotMode()) {\n      if (this.gridOptionsWrapper.isFloatingFilter()) {\n        headerRowCount++;\n      }\n\n      numberOfFloating = this.gridOptionsWrapper.isFloatingFilter() ? 1 : 0;\n      groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n    } else {\n      numberOfFloating = 0;\n      groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n    }\n\n    var numberOfNonGroups = 1 + numberOfFloating;\n    var numberOfGroups = headerRowCount - numberOfNonGroups;\n\n    for (var i = 0; i < numberOfGroups; i++) {\n      sizes.push(groupHeight);\n    }\n\n    sizes.push(headerHeight);\n\n    for (var i = 0; i < numberOfFloating; i++) {\n      sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n    }\n\n    var rowHeight = 0;\n\n    for (var i = 0; i < this.dept; i++) {\n      rowHeight += sizes[i];\n    }\n\n    this.getGui().style.top = rowHeight + 'px';\n    this.getGui().style.height = sizes[this.dept] + 'px';\n  }; //noinspection JSUnusedLocalSymbols\n\n\n  HeaderRowComp.prototype.init = function () {\n    this.onRowHeightChanged();\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n    this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n    this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n    this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n    this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n  };\n\n  HeaderRowComp.prototype.onColumnResized = function () {\n    this.setWidth();\n  };\n\n  HeaderRowComp.prototype.setWidth = function () {\n    var width = this.getWidthForRow();\n    this.getGui().style.width = width + 'px';\n  };\n\n  HeaderRowComp.prototype.getWidthForRow = function () {\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n\n    if (printLayout) {\n      var centerRow = utils_1._.missing(this.pinned);\n\n      if (centerRow) {\n        return this.columnController.getContainerWidth(column_1.Column.PINNED_RIGHT) + this.columnController.getContainerWidth(column_1.Column.PINNED_LEFT) + this.columnController.getContainerWidth(null);\n      } else {\n        return 0;\n      }\n    } else {\n      // if not printing, just return the width as normal\n      return this.columnController.getContainerWidth(this.pinned);\n    }\n  };\n\n  HeaderRowComp.prototype.onGridColumnsChanged = function () {\n    this.removeAndDestroyAllChildComponents();\n  };\n\n  HeaderRowComp.prototype.removeAndDestroyAllChildComponents = function () {\n    var idsOfAllChildren = Object.keys(this.headerComps);\n    this.removeAndDestroyChildComponents(idsOfAllChildren);\n  };\n\n  HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n  };\n\n  HeaderRowComp.prototype.getItemsAtDept = function () {\n    var _this = this;\n\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n\n    if (printLayout) {\n      // for print layout, we add all columns into the center\n      var centerContainer = utils_1._.missing(this.pinned);\n\n      if (centerContainer) {\n        var result_1 = [];\n        [column_1.Column.PINNED_LEFT, null, column_1.Column.PINNED_RIGHT].forEach(function (pinned) {\n          var items = _this.columnController.getVirtualHeaderGroupRow(pinned, _this.type == HeaderRowType.FLOATING_FILTER ? _this.dept - 1 : _this.dept);\n\n          result_1 = result_1.concat(items);\n        });\n        return result_1;\n      } else {\n        return [];\n      }\n    } else {\n      // when in normal layout, we add the columns for that container only\n      return this.columnController.getVirtualHeaderGroupRow(this.pinned, this.type == HeaderRowType.FLOATING_FILTER ? this.dept - 1 : this.dept);\n    }\n  };\n\n  HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n    var _this = this;\n\n    var currentChildIds = Object.keys(this.headerComps);\n    var itemsAtDepth = this.getItemsAtDept();\n    var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n    var eBefore;\n    itemsAtDepth.forEach(function (child) {\n      // skip groups that have no displayed children. this can happen when the group is broken,\n      // and this section happens to have nothing to display for the open / closed state.\n      // (a broken group is one that is split, ie columns in the group have a non-group column\n      // in between them)\n      if (child.isEmptyGroup()) {\n        return;\n      }\n\n      var idOfChild = child.getUniqueId();\n\n      var eParentContainer = _this.getGui(); // if we already have this cell rendered, do nothing\n\n\n      var colAlreadyInDom = currentChildIds.indexOf(idOfChild) >= 0;\n      var headerComp;\n      var eHeaderCompGui;\n\n      if (colAlreadyInDom) {\n        utils_1._.removeFromArray(currentChildIds, idOfChild);\n\n        headerComp = _this.headerComps[idOfChild];\n        eHeaderCompGui = headerComp.getGui();\n\n        if (ensureDomOrder) {\n          utils_1._.ensureDomOrder(eParentContainer, eHeaderCompGui, eBefore);\n        }\n\n        eBefore = eHeaderCompGui;\n      } else {\n        headerComp = _this.createHeaderComp(child);\n        _this.headerComps[idOfChild] = headerComp;\n        eHeaderCompGui = headerComp.getGui();\n\n        if (ensureDomOrder) {\n          utils_1._.insertWithDomOrder(eParentContainer, eHeaderCompGui, eBefore);\n        } else {\n          eParentContainer.appendChild(eHeaderCompGui);\n        }\n\n        eBefore = eHeaderCompGui;\n      }\n    }); // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n\n    this.removeAndDestroyChildComponents(currentChildIds);\n  };\n\n  HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n    var result;\n\n    switch (this.type) {\n      case HeaderRowType.COLUMN:\n        result = new headerWrapperComp_1.HeaderWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n        break;\n\n      case HeaderRowType.COLUMN_GROUP:\n        result = new headerGroupWrapperComp_1.HeaderGroupWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n        break;\n\n      case HeaderRowType.FLOATING_FILTER:\n        result = new floatingFilterWrapper_1.FloatingFilterWrapper(columnGroupChild);\n        break;\n    }\n\n    this.getContext().wireBean(result);\n    return result;\n  };\n\n  __decorate([context_1.Autowired('gridOptionsWrapper'), __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)], HeaderRowComp.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([context_1.Autowired('gridApi'), __metadata(\"design:type\", gridApi_1.GridApi)], HeaderRowComp.prototype, \"gridApi\", void 0);\n\n  __decorate([context_1.Autowired('columnController'), __metadata(\"design:type\", columnController_1.ColumnController)], HeaderRowComp.prototype, \"columnController\", void 0);\n\n  __decorate([context_1.Autowired('eventService'), __metadata(\"design:type\", eventService_1.EventService)], HeaderRowComp.prototype, \"eventService\", void 0);\n\n  __decorate([context_1.Autowired('filterManager'), __metadata(\"design:type\", filterManager_1.FilterManager)], HeaderRowComp.prototype, \"filterManager\", void 0);\n\n  __decorate([context_1.PostConstruct, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], HeaderRowComp.prototype, \"init\", null);\n\n  return HeaderRowComp;\n}(component_1.Component);\n\nexports.HeaderRowComp = HeaderRowComp;","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/ag-grid-community/dist/lib/headerRendering/headerRowComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","component_1","require","context_1","gridOptionsWrapper_1","columnController_1","column_1","eventService_1","events_1","headerWrapperComp_1","headerGroupWrapperComp_1","filterManager_1","gridApi_1","constants_1","utils_1","floatingFilterWrapper_1","HeaderRowType","HeaderRowComp","_super","dept","type","pinned","dropTarget","_this","call","headerComps","forEachHeaderElement","callback","keys","forEach","destroy","idsOfAllChildren","removeAndDestroyChildComponents","idsToDestroy","id","childHeaderComp","getGui","removeChild","onRowHeightChanged","headerRowCount","columnController","getHeaderRowCount","sizes","numberOfFloating","groupHeight","headerHeight","isPivotMode","gridOptionsWrapper","isFloatingFilter","getGroupHeaderHeight","getHeaderHeight","getPivotGroupHeaderHeight","getPivotHeaderHeight","numberOfNonGroups","numberOfGroups","push","getFloatingFiltersHeight","rowHeight","style","top","height","init","onVirtualColumnsChanged","setWidth","addDestroyableEventListener","GridOptionsWrapper","PROP_HEADER_HEIGHT","bind","PROP_PIVOT_HEADER_HEIGHT","PROP_GROUP_HEADER_HEIGHT","PROP_PIVOT_GROUP_HEADER_HEIGHT","PROP_FLOATING_FILTERS_HEIGHT","eventService","Events","EVENT_VIRTUAL_COLUMNS_CHANGED","EVENT_DISPLAYED_COLUMNS_CHANGED","onDisplayedColumnsChanged","EVENT_COLUMN_RESIZED","onColumnResized","EVENT_GRID_COLUMNS_CHANGED","onGridColumnsChanged","width","getWidthForRow","printLayout","getDomLayout","Constants","DOM_LAYOUT_PRINT","centerRow","_","missing","getContainerWidth","Column","PINNED_RIGHT","PINNED_LEFT","removeAndDestroyAllChildComponents","getItemsAtDept","centerContainer","result_1","items","getVirtualHeaderGroupRow","FLOATING_FILTER","concat","currentChildIds","itemsAtDepth","ensureDomOrder","isEnsureDomOrder","eBefore","child","isEmptyGroup","idOfChild","getUniqueId","eParentContainer","colAlreadyInDom","indexOf","headerComp","eHeaderCompGui","removeFromArray","createHeaderComp","insertWithDomOrder","appendChild","columnGroupChild","result","COLUMN","HeaderWrapperComp","COLUMN_GROUP","HeaderGroupWrapperComp","FloatingFilterWrapper","getContext","wireBean","Autowired","GridApi","ColumnController","EventService","FilterManager","PostConstruct","Function","Component"],"mappings":"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","sourcesContent":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = require(\"../widgets/component\");\nvar context_1 = require(\"../context/context\");\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\nvar columnController_1 = require(\"../columnController/columnController\");\nvar column_1 = require(\"../entities/column\");\nvar eventService_1 = require(\"../eventService\");\nvar events_1 = require(\"../events\");\nvar headerWrapperComp_1 = require(\"./header/headerWrapperComp\");\nvar headerGroupWrapperComp_1 = require(\"./headerGroup/headerGroupWrapperComp\");\nvar filterManager_1 = require(\"../filter/filterManager\");\nvar gridApi_1 = require(\"../gridApi\");\nvar constants_1 = require(\"../constants\");\nvar utils_1 = require(\"../utils\");\nvar floatingFilterWrapper_1 = require(\"../filter/floating/floatingFilterWrapper\");\nvar HeaderRowType;\n(function (HeaderRowType) {\n    HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n    HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n    HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType = exports.HeaderRowType || (exports.HeaderRowType = {}));\nvar HeaderRowComp = /** @class */ (function (_super) {\n    __extends(HeaderRowComp, _super);\n    function HeaderRowComp(dept, type, pinned, dropTarget) {\n        var _this = _super.call(this, \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\"/>\") || this;\n        _this.headerComps = {};\n        _this.dept = dept;\n        _this.type = type;\n        _this.pinned = pinned;\n        _this.dropTarget = dropTarget;\n        return _this;\n    }\n    HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n        var _this = this;\n        Object.keys(this.headerComps).forEach(function (key) {\n            callback(_this.headerComps[key]);\n        });\n    };\n    HeaderRowComp.prototype.destroy = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.removeAndDestroyChildComponents(idsOfAllChildren);\n        _super.prototype.destroy.call(this);\n    };\n    HeaderRowComp.prototype.removeAndDestroyChildComponents = function (idsToDestroy) {\n        var _this = this;\n        idsToDestroy.forEach(function (id) {\n            var childHeaderComp = _this.headerComps[id];\n            _this.getGui().removeChild(childHeaderComp.getGui());\n            childHeaderComp.destroy();\n            delete _this.headerComps[id];\n        });\n    };\n    HeaderRowComp.prototype.onRowHeightChanged = function () {\n        var headerRowCount = this.columnController.getHeaderRowCount();\n        var sizes = [];\n        var numberOfFloating = 0;\n        var groupHeight;\n        var headerHeight;\n        if (!this.columnController.isPivotMode()) {\n            if (this.gridOptionsWrapper.isFloatingFilter()) {\n                headerRowCount++;\n            }\n            numberOfFloating = (this.gridOptionsWrapper.isFloatingFilter()) ? 1 : 0;\n            groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n        }\n        else {\n            numberOfFloating = 0;\n            groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        for (var i = 0; i < numberOfGroups; i++) {\n            sizes.push(groupHeight);\n        }\n        sizes.push(headerHeight);\n        for (var i = 0; i < numberOfFloating; i++) {\n            sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n        }\n        var rowHeight = 0;\n        for (var i = 0; i < this.dept; i++) {\n            rowHeight += sizes[i];\n        }\n        this.getGui().style.top = rowHeight + 'px';\n        this.getGui().style.height = sizes[this.dept] + 'px';\n    };\n    //noinspection JSUnusedLocalSymbols\n    HeaderRowComp.prototype.init = function () {\n        this.onRowHeightChanged();\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n    };\n    HeaderRowComp.prototype.onColumnResized = function () {\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.setWidth = function () {\n        var width = this.getWidthForRow();\n        this.getGui().style.width = width + 'px';\n    };\n    HeaderRowComp.prototype.getWidthForRow = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            var centerRow = utils_1._.missing(this.pinned);\n            if (centerRow) {\n                return this.columnController.getContainerWidth(column_1.Column.PINNED_RIGHT)\n                    + this.columnController.getContainerWidth(column_1.Column.PINNED_LEFT)\n                    + this.columnController.getContainerWidth(null);\n            }\n            else {\n                return 0;\n            }\n        }\n        else {\n            // if not printing, just return the width as normal\n            return this.columnController.getContainerWidth(this.pinned);\n        }\n    };\n    HeaderRowComp.prototype.onGridColumnsChanged = function () {\n        this.removeAndDestroyAllChildComponents();\n    };\n    HeaderRowComp.prototype.removeAndDestroyAllChildComponents = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.removeAndDestroyChildComponents(idsOfAllChildren);\n    };\n    HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.getItemsAtDept = function () {\n        var _this = this;\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            // for print layout, we add all columns into the center\n            var centerContainer = utils_1._.missing(this.pinned);\n            if (centerContainer) {\n                var result_1 = [];\n                [column_1.Column.PINNED_LEFT, null, column_1.Column.PINNED_RIGHT].forEach(function (pinned) {\n                    var items = _this.columnController.getVirtualHeaderGroupRow(pinned, _this.type == HeaderRowType.FLOATING_FILTER ?\n                        _this.dept - 1 :\n                        _this.dept);\n                    result_1 = result_1.concat(items);\n                });\n                return result_1;\n            }\n            else {\n                return [];\n            }\n        }\n        else {\n            // when in normal layout, we add the columns for that container only\n            return this.columnController.getVirtualHeaderGroupRow(this.pinned, this.type == HeaderRowType.FLOATING_FILTER ?\n                this.dept - 1 :\n                this.dept);\n        }\n    };\n    HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n        var _this = this;\n        var currentChildIds = Object.keys(this.headerComps);\n        var itemsAtDepth = this.getItemsAtDept();\n        var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n        var eBefore;\n        itemsAtDepth.forEach(function (child) {\n            // skip groups that have no displayed children. this can happen when the group is broken,\n            // and this section happens to have nothing to display for the open / closed state.\n            // (a broken group is one that is split, ie columns in the group have a non-group column\n            // in between them)\n            if (child.isEmptyGroup()) {\n                return;\n            }\n            var idOfChild = child.getUniqueId();\n            var eParentContainer = _this.getGui();\n            // if we already have this cell rendered, do nothing\n            var colAlreadyInDom = currentChildIds.indexOf(idOfChild) >= 0;\n            var headerComp;\n            var eHeaderCompGui;\n            if (colAlreadyInDom) {\n                utils_1._.removeFromArray(currentChildIds, idOfChild);\n                headerComp = _this.headerComps[idOfChild];\n                eHeaderCompGui = headerComp.getGui();\n                if (ensureDomOrder) {\n                    utils_1._.ensureDomOrder(eParentContainer, eHeaderCompGui, eBefore);\n                }\n                eBefore = eHeaderCompGui;\n            }\n            else {\n                headerComp = _this.createHeaderComp(child);\n                _this.headerComps[idOfChild] = headerComp;\n                eHeaderCompGui = headerComp.getGui();\n                if (ensureDomOrder) {\n                    utils_1._.insertWithDomOrder(eParentContainer, eHeaderCompGui, eBefore);\n                }\n                else {\n                    eParentContainer.appendChild(eHeaderCompGui);\n                }\n                eBefore = eHeaderCompGui;\n            }\n        });\n        // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n        this.removeAndDestroyChildComponents(currentChildIds);\n    };\n    HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n        var result;\n        switch (this.type) {\n            case HeaderRowType.COLUMN:\n                result = new headerWrapperComp_1.HeaderWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.COLUMN_GROUP:\n                result = new headerGroupWrapperComp_1.HeaderGroupWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.FLOATING_FILTER:\n                result = new floatingFilterWrapper_1.FloatingFilterWrapper(columnGroupChild);\n                break;\n        }\n        this.getContext().wireBean(result);\n        return result;\n    };\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], HeaderRowComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        context_1.Autowired('gridApi'),\n        __metadata(\"design:type\", gridApi_1.GridApi)\n    ], HeaderRowComp.prototype, \"gridApi\", void 0);\n    __decorate([\n        context_1.Autowired('columnController'),\n        __metadata(\"design:type\", columnController_1.ColumnController)\n    ], HeaderRowComp.prototype, \"columnController\", void 0);\n    __decorate([\n        context_1.Autowired('eventService'),\n        __metadata(\"design:type\", eventService_1.EventService)\n    ], HeaderRowComp.prototype, \"eventService\", void 0);\n    __decorate([\n        context_1.Autowired('filterManager'),\n        __metadata(\"design:type\", filterManager_1.FilterManager)\n    ], HeaderRowComp.prototype, \"filterManager\", void 0);\n    __decorate([\n        context_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], HeaderRowComp.prototype, \"init\", null);\n    return HeaderRowComp;\n}(component_1.Component));\nexports.HeaderRowComp = HeaderRowComp;\n"]},"metadata":{},"sourceType":"script"}