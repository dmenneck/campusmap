{"ast":null,"code":"import { createElement, Component } from 'react';\nimport { Resizable } from 're-resizable';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n}\n\nvar Draggable = require(\"react-draggable\");\n\nvar resizableStyle = {\n  width: \"auto\",\n  height: \"auto\",\n  display: \"inline-block\",\n  position: \"absolute\",\n  top: 0,\n  left: 0\n};\n\nvar Rnd =\n/** @class */\nfunction (_super) {\n  __extends(Rnd, _super);\n\n  function Rnd(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.isResizing = false;\n    _this.state = {\n      original: {\n        x: 0,\n        y: 0\n      },\n      bounds: {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      },\n      maxWidth: props.maxWidth,\n      maxHeight: props.maxHeight\n    };\n    _this.onResizeStart = _this.onResizeStart.bind(_this);\n    _this.onResize = _this.onResize.bind(_this);\n    _this.onResizeStop = _this.onResizeStop.bind(_this);\n    _this.onDragStart = _this.onDragStart.bind(_this);\n    _this.onDrag = _this.onDrag.bind(_this);\n    _this.onDragStop = _this.onDragStop.bind(_this);\n    _this.getMaxSizesFromProps = _this.getMaxSizesFromProps.bind(_this);\n    return _this;\n  }\n\n  Rnd.prototype.componentDidMount = function () {\n    var _a = this.getOffsetFromParent(),\n        left = _a.left,\n        top = _a.top;\n\n    var _b = this.getDraggablePosition(),\n        x = _b.x,\n        y = _b.y;\n\n    this.draggable.setState({\n      x: x - left,\n      y: y - top\n    }); // HACK: Apply position adjustment\n\n    this.forceUpdate();\n  }; // HACK: To get `react-draggable` state x and y.\n\n\n  Rnd.prototype.getDraggablePosition = function () {\n    var _a = this.draggable.state,\n        x = _a.x,\n        y = _a.y;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  Rnd.prototype.getParent = function () {\n    return this.resizable && this.resizable.parentNode;\n  };\n\n  Rnd.prototype.getParentSize = function () {\n    return this.resizable.getParentSize();\n  };\n\n  Rnd.prototype.getMaxSizesFromProps = function () {\n    var maxWidth = typeof this.props.maxWidth === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxWidth;\n    var maxHeight = typeof this.props.maxHeight === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxHeight;\n    return {\n      maxWidth: maxWidth,\n      maxHeight: maxHeight\n    };\n  };\n\n  Rnd.prototype.getSelfElement = function () {\n    return this.resizable && this.resizable.resizable;\n  };\n\n  Rnd.prototype.getOffsetHeight = function (boundary) {\n    var scale = this.props.scale;\n\n    switch (this.props.bounds) {\n      case \"window\":\n        return window.innerHeight / scale;\n\n      case \"body\":\n        return document.body.offsetHeight / scale;\n\n      default:\n        return boundary.offsetHeight;\n    }\n  };\n\n  Rnd.prototype.getOffsetWidth = function (boundary) {\n    var scale = this.props.scale;\n\n    switch (this.props.bounds) {\n      case \"window\":\n        return window.innerWidth / scale;\n\n      case \"body\":\n        return document.body.offsetWidth / scale;\n\n      default:\n        return boundary.offsetWidth;\n    }\n  };\n\n  Rnd.prototype.onDragStart = function (e, data) {\n    if (this.props.onDragStart) {\n      this.props.onDragStart(e, data);\n    }\n\n    if (!this.props.bounds) return;\n    var parent = this.getParent();\n    var scale = this.props.scale;\n    var boundary;\n\n    if (this.props.bounds === \"parent\") {\n      boundary = parent;\n    } else if (this.props.bounds === \"body\") {\n      var parentRect_1 = parent.getBoundingClientRect();\n      var parentLeft_1 = parentRect_1.left;\n      var parentTop_1 = parentRect_1.top;\n      var bodyRect = document.body.getBoundingClientRect();\n      var left_1 = -(parentLeft_1 - parent.offsetLeft * scale - bodyRect.left) / scale;\n      var top_1 = -(parentTop_1 - parent.offsetTop * scale - bodyRect.top) / scale;\n      var right = (document.body.offsetWidth - this.resizable.size.width * scale) / scale + left_1;\n      var bottom = (document.body.offsetHeight - this.resizable.size.height * scale) / scale + top_1;\n      return this.setState({\n        bounds: {\n          top: top_1,\n          right: right,\n          bottom: bottom,\n          left: left_1\n        }\n      });\n    } else if (this.props.bounds === \"window\") {\n      if (!this.resizable) return;\n      var parentRect_2 = parent.getBoundingClientRect();\n      var parentLeft_2 = parentRect_2.left;\n      var parentTop_2 = parentRect_2.top;\n      var left_2 = -(parentLeft_2 - parent.offsetLeft * scale) / scale;\n      var top_2 = -(parentTop_2 - parent.offsetTop * scale) / scale;\n      var right = (window.innerWidth - this.resizable.size.width * scale) / scale + left_2;\n      var bottom = (window.innerHeight - this.resizable.size.height * scale) / scale + top_2;\n      return this.setState({\n        bounds: {\n          top: top_2,\n          right: right,\n          bottom: bottom,\n          left: left_2\n        }\n      });\n    } else {\n      boundary = document.querySelector(this.props.bounds);\n    }\n\n    if (!(boundary instanceof HTMLElement) || !(parent instanceof HTMLElement)) {\n      return;\n    }\n\n    var boundaryRect = boundary.getBoundingClientRect();\n    var boundaryLeft = boundaryRect.left;\n    var boundaryTop = boundaryRect.top;\n    var parentRect = parent.getBoundingClientRect();\n    var parentLeft = parentRect.left;\n    var parentTop = parentRect.top;\n    var left = (boundaryLeft - parentLeft) / scale;\n    var top = boundaryTop - parentTop;\n    if (!this.resizable) return;\n    var offset = this.getOffsetFromParent();\n    this.setState({\n      bounds: {\n        top: top - offset.top,\n        right: left + (boundary.offsetWidth - this.resizable.size.width) - offset.left / scale,\n        bottom: top + (boundary.offsetHeight - this.resizable.size.height) - offset.top,\n        left: left - offset.left / scale\n      }\n    });\n  };\n\n  Rnd.prototype.onDrag = function (e, data) {\n    if (this.props.onDrag) {\n      var offset = this.getOffsetFromParent();\n      this.props.onDrag(e, __assign({}, data, {\n        x: data.x - offset.left,\n        y: data.y - offset.top\n      }));\n    }\n  };\n\n  Rnd.prototype.onDragStop = function (e, data) {\n    if (this.props.onDragStop) {\n      var _a = this.getOffsetFromParent(),\n          left = _a.left,\n          top_3 = _a.top;\n\n      return this.props.onDragStop(e, __assign({}, data, {\n        x: data.x + left,\n        y: data.y + top_3\n      }));\n    }\n  };\n\n  Rnd.prototype.onResizeStart = function (e, dir, elementRef) {\n    e.stopPropagation();\n    this.isResizing = true;\n    var scale = this.props.scale;\n    this.setState({\n      original: this.getDraggablePosition()\n    });\n\n    if (this.props.bounds) {\n      var parent_1 = this.getParent();\n      var boundary = void 0;\n\n      if (this.props.bounds === \"parent\") {\n        boundary = parent_1;\n      } else if (this.props.bounds === \"body\") {\n        boundary = document.body;\n      } else if (this.props.bounds === \"window\") {\n        boundary = window;\n      } else {\n        boundary = document.querySelector(this.props.bounds);\n      }\n\n      var self_1 = this.getSelfElement();\n\n      if (self_1 instanceof Element && (boundary instanceof HTMLElement || boundary === window) && parent_1 instanceof HTMLElement) {\n        var _a = this.getMaxSizesFromProps(),\n            maxWidth = _a.maxWidth,\n            maxHeight = _a.maxHeight;\n\n        var parentSize = this.getParentSize();\n\n        if (maxWidth && typeof maxWidth === \"string\") {\n          if (maxWidth.endsWith(\"%\")) {\n            var ratio = Number(maxWidth.replace(\"%\", \"\")) / 100;\n            maxWidth = parentSize.width * ratio;\n          } else if (maxWidth.endsWith(\"px\")) {\n            maxWidth = Number(maxWidth.replace(\"px\", \"\"));\n          }\n        }\n\n        if (maxHeight && typeof maxHeight === \"string\") {\n          if (maxHeight.endsWith(\"%\")) {\n            var ratio = Number(maxHeight.replace(\"%\", \"\")) / 100;\n            maxHeight = parentSize.width * ratio;\n          } else if (maxHeight.endsWith(\"px\")) {\n            maxHeight = Number(maxHeight.replace(\"px\", \"\"));\n          }\n        }\n\n        var selfRect = self_1.getBoundingClientRect();\n        var selfLeft = selfRect.left;\n        var selfTop = selfRect.top;\n        var boundaryRect = this.props.bounds === \"window\" ? {\n          left: 0,\n          top: 0\n        } : boundary.getBoundingClientRect();\n        var boundaryLeft = boundaryRect.left;\n        var boundaryTop = boundaryRect.top;\n        var offsetWidth = this.getOffsetWidth(boundary);\n        var offsetHeight = this.getOffsetHeight(boundary);\n        var hasLeft = dir.toLowerCase().endsWith(\"left\");\n        var hasRight = dir.toLowerCase().endsWith(\"right\");\n        var hasTop = dir.startsWith(\"top\");\n        var hasBottom = dir.startsWith(\"bottom\");\n\n        if (hasLeft && this.resizable) {\n          var max = (selfLeft - boundaryLeft) / scale + this.resizable.size.width;\n          this.setState({\n            maxWidth: max > Number(maxWidth) ? maxWidth : max\n          });\n        } // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\n\n\n        if (hasRight || this.props.lockAspectRatio && !hasLeft) {\n          var max = offsetWidth + (boundaryLeft - selfLeft) / scale;\n          this.setState({\n            maxWidth: max > Number(maxWidth) ? maxWidth : max\n          });\n        }\n\n        if (hasTop && this.resizable) {\n          var max = (selfTop - boundaryTop) / scale + this.resizable.size.height;\n          this.setState({\n            maxHeight: max > Number(maxHeight) ? maxHeight : max\n          });\n        } // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\n\n\n        if (hasBottom || this.props.lockAspectRatio && !hasTop) {\n          var max = offsetHeight + (boundaryTop - selfTop) / scale;\n          this.setState({\n            maxHeight: max > Number(maxHeight) ? maxHeight : max\n          });\n        }\n      }\n    } else {\n      this.setState({\n        maxWidth: this.props.maxWidth,\n        maxHeight: this.props.maxHeight\n      });\n    }\n\n    if (this.props.onResizeStart) {\n      this.props.onResizeStart(e, dir, elementRef);\n    }\n  };\n\n  Rnd.prototype.onResize = function (e, direction, elementRef, delta) {\n    var x;\n    var y;\n    var offset = this.getOffsetFromParent();\n\n    if (/left/i.test(direction)) {\n      x = this.state.original.x - delta.width; // INFO: If uncontrolled component, apply x position by resize to draggable.\n\n      if (!this.props.position) {\n        this.draggable.setState({\n          x: x\n        });\n      }\n\n      x += offset.left;\n    }\n\n    if (/top/i.test(direction)) {\n      y = this.state.original.y - delta.height; // INFO: If uncontrolled component, apply y position by resize to draggable.\n\n      if (!this.props.position) {\n        this.draggable.setState({\n          y: y\n        });\n      }\n\n      y += offset.top;\n    }\n\n    if (this.props.onResize) {\n      if (typeof x === \"undefined\") {\n        x = this.getDraggablePosition().x + offset.left;\n      }\n\n      if (typeof y === \"undefined\") {\n        y = this.getDraggablePosition().y + offset.top;\n      }\n\n      this.props.onResize(e, direction, elementRef, delta, {\n        x: x,\n        y: y\n      });\n    }\n  };\n\n  Rnd.prototype.onResizeStop = function (e, direction, elementRef, delta) {\n    this.isResizing = false;\n\n    var _a = this.getMaxSizesFromProps(),\n        maxWidth = _a.maxWidth,\n        maxHeight = _a.maxHeight;\n\n    this.setState({\n      maxWidth: maxWidth,\n      maxHeight: maxHeight\n    });\n\n    if (this.props.onResizeStop) {\n      var position = this.getDraggablePosition();\n      this.props.onResizeStop(e, direction, elementRef, delta, position);\n    }\n  };\n\n  Rnd.prototype.updateSize = function (size) {\n    if (!this.resizable) return;\n    this.resizable.updateSize({\n      width: size.width,\n      height: size.height\n    });\n  };\n\n  Rnd.prototype.updatePosition = function (position) {\n    this.draggable.setState(position);\n  };\n\n  Rnd.prototype.getOffsetFromParent = function () {\n    var scale = this.props.scale;\n    var parent = this.getParent();\n    var self = this.getSelfElement();\n\n    if (!parent || self === null) {\n      return {\n        top: 0,\n        left: 0\n      };\n    }\n\n    var parentRect = parent.getBoundingClientRect();\n    var parentLeft = parentRect.left;\n    var parentTop = parentRect.top;\n    var selfRect = self.getBoundingClientRect();\n    var position = this.getDraggablePosition();\n    return {\n      left: selfRect.left - parentLeft - position.x * scale,\n      top: selfRect.top - parentTop - position.y * scale\n    };\n  };\n\n  Rnd.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        disableDragging = _a.disableDragging,\n        style = _a.style,\n        dragHandleClassName = _a.dragHandleClassName,\n        position = _a.position,\n        onMouseDown = _a.onMouseDown,\n        dragAxis = _a.dragAxis,\n        dragGrid = _a.dragGrid,\n        bounds = _a.bounds,\n        enableUserSelectHack = _a.enableUserSelectHack,\n        cancel = _a.cancel,\n        children = _a.children,\n        onResizeStart = _a.onResizeStart,\n        onResize = _a.onResize,\n        onResizeStop = _a.onResizeStop,\n        onDragStart = _a.onDragStart,\n        onDrag = _a.onDrag,\n        onDragStop = _a.onDragStop,\n        resizeHandleStyles = _a.resizeHandleStyles,\n        resizeHandleClasses = _a.resizeHandleClasses,\n        enableResizing = _a.enableResizing,\n        resizeGrid = _a.resizeGrid,\n        resizeHandleWrapperClass = _a.resizeHandleWrapperClass,\n        resizeHandleWrapperStyle = _a.resizeHandleWrapperStyle,\n        scale = _a.scale,\n        resizableProps = __rest(_a, [\"disableDragging\", \"style\", \"dragHandleClassName\", \"position\", \"onMouseDown\", \"dragAxis\", \"dragGrid\", \"bounds\", \"enableUserSelectHack\", \"cancel\", \"children\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"onDragStart\", \"onDrag\", \"onDragStop\", \"resizeHandleStyles\", \"resizeHandleClasses\", \"enableResizing\", \"resizeGrid\", \"resizeHandleWrapperClass\", \"resizeHandleWrapperStyle\", \"scale\"]);\n\n    var defaultValue = this.props.default ? __assign({}, this.props.default) : undefined; // Remove unknown props, see also https://reactjs.org/warnings/unknown-prop.html\n\n    delete resizableProps.default;\n    var cursorStyle = disableDragging || dragHandleClassName ? {\n      cursor: \"auto\"\n    } : {\n      cursor: \"move\"\n    };\n\n    var innerStyle = __assign({}, resizableStyle, cursorStyle, style);\n\n    var _b = this.getOffsetFromParent(),\n        left = _b.left,\n        top = _b.top;\n\n    var draggablePosition;\n\n    if (position) {\n      draggablePosition = {\n        x: position.x - left,\n        y: position.y - top\n      };\n    }\n\n    return createElement(Draggable, {\n      ref: function (c) {\n        if (!c) return;\n        _this.draggable = c;\n      },\n      handle: dragHandleClassName ? \".\" + dragHandleClassName : undefined,\n      defaultPosition: defaultValue,\n      onMouseDown: onMouseDown,\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop,\n      axis: dragAxis,\n      disabled: disableDragging,\n      grid: dragGrid,\n      bounds: bounds ? this.state.bounds : undefined,\n      position: draggablePosition,\n      enableUserSelectHack: enableUserSelectHack,\n      cancel: cancel,\n      scale: scale\n    }, createElement(Resizable, __assign({}, resizableProps, {\n      ref: function (c) {\n        if (c) {\n          _this.resizable = c;\n        }\n      },\n      defaultSize: defaultValue,\n      size: this.props.size,\n      enable: enableResizing,\n      onResizeStart: this.onResizeStart,\n      onResize: this.onResize,\n      onResizeStop: this.onResizeStop,\n      style: innerStyle,\n      minWidth: this.props.minWidth,\n      minHeight: this.props.minHeight,\n      maxWidth: this.isResizing ? this.state.maxWidth : this.props.maxWidth,\n      maxHeight: this.isResizing ? this.state.maxHeight : this.props.maxHeight,\n      grid: resizeGrid,\n      handleWrapperClass: resizeHandleWrapperClass,\n      handleWrapperStyle: resizeHandleWrapperStyle,\n      lockAspectRatio: this.props.lockAspectRatio,\n      lockAspectRatioExtraWidth: this.props.lockAspectRatioExtraWidth,\n      lockAspectRatioExtraHeight: this.props.lockAspectRatioExtraHeight,\n      handleStyles: resizeHandleStyles,\n      handleClasses: resizeHandleClasses,\n      scale: this.props.scale\n    }), children));\n  };\n\n  Rnd.defaultProps = {\n    maxWidth: Number.MAX_SAFE_INTEGER,\n    maxHeight: Number.MAX_SAFE_INTEGER,\n    scale: 1,\n    onResizeStart: function () {},\n    onResize: function () {},\n    onResizeStop: function () {},\n    onDragStart: function () {},\n    onDrag: function () {},\n    onDragStop: function () {}\n  };\n  return Rnd;\n}(Component);\n\nexport { Rnd };","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/react-rnd/lib/index.js"],"names":["createElement","Component","Resizable","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","Draggable","require","resizableStyle","width","height","display","position","top","left","Rnd","_super","props","_this","isResizing","state","original","x","y","bounds","right","bottom","maxWidth","maxHeight","onResizeStart","bind","onResize","onResizeStop","onDragStart","onDrag","onDragStop","getMaxSizesFromProps","componentDidMount","_a","getOffsetFromParent","_b","getDraggablePosition","draggable","setState","forceUpdate","getParent","resizable","parentNode","getParentSize","Number","MAX_SAFE_INTEGER","getSelfElement","getOffsetHeight","boundary","scale","window","innerHeight","document","body","offsetHeight","getOffsetWidth","innerWidth","offsetWidth","data","parent","parentRect_1","getBoundingClientRect","parentLeft_1","parentTop_1","bodyRect","left_1","offsetLeft","top_1","offsetTop","size","parentRect_2","parentLeft_2","parentTop_2","left_2","top_2","querySelector","HTMLElement","boundaryRect","boundaryLeft","boundaryTop","parentRect","parentLeft","parentTop","offset","top_3","dir","elementRef","stopPropagation","parent_1","self_1","Element","parentSize","endsWith","ratio","replace","selfRect","selfLeft","selfTop","hasLeft","toLowerCase","hasRight","hasTop","startsWith","hasBottom","max","lockAspectRatio","direction","delta","test","updateSize","updatePosition","self","render","disableDragging","style","dragHandleClassName","onMouseDown","dragAxis","dragGrid","enableUserSelectHack","cancel","children","resizeHandleStyles","resizeHandleClasses","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","resizableProps","defaultValue","default","undefined","cursorStyle","cursor","innerStyle","draggablePosition","ref","c","handle","defaultPosition","onStart","onStop","axis","disabled","grid","defaultSize","enable","minWidth","minHeight","handleWrapperClass","handleWrapperStyle","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","handleStyles","handleClasses","defaultProps"],"mappings":"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","sourcesContent":["import { createElement, Component } from 'react';\nimport { Resizable } from 're-resizable';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\n\nvar Draggable = require(\"react-draggable\");\r\nvar resizableStyle = {\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    display: \"inline-block\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n};\r\nvar Rnd = /** @class */ (function (_super) {\r\n    __extends(Rnd, _super);\r\n    function Rnd(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.isResizing = false;\r\n        _this.state = {\r\n            original: {\r\n                x: 0,\r\n                y: 0,\r\n            },\r\n            bounds: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n            },\r\n            maxWidth: props.maxWidth,\r\n            maxHeight: props.maxHeight,\r\n        };\r\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\r\n        _this.onResize = _this.onResize.bind(_this);\r\n        _this.onResizeStop = _this.onResizeStop.bind(_this);\r\n        _this.onDragStart = _this.onDragStart.bind(_this);\r\n        _this.onDrag = _this.onDrag.bind(_this);\r\n        _this.onDragStop = _this.onDragStop.bind(_this);\r\n        _this.getMaxSizesFromProps = _this.getMaxSizesFromProps.bind(_this);\r\n        return _this;\r\n    }\r\n    Rnd.prototype.componentDidMount = function () {\r\n        var _a = this.getOffsetFromParent(), left = _a.left, top = _a.top;\r\n        var _b = this.getDraggablePosition(), x = _b.x, y = _b.y;\r\n        this.draggable.setState({\r\n            x: x - left,\r\n            y: y - top,\r\n        });\r\n        // HACK: Apply position adjustment\r\n        this.forceUpdate();\r\n    };\r\n    // HACK: To get `react-draggable` state x and y.\r\n    Rnd.prototype.getDraggablePosition = function () {\r\n        var _a = this.draggable.state, x = _a.x, y = _a.y;\r\n        return { x: x, y: y };\r\n    };\r\n    Rnd.prototype.getParent = function () {\r\n        return this.resizable && this.resizable.parentNode;\r\n    };\r\n    Rnd.prototype.getParentSize = function () {\r\n        return this.resizable.getParentSize();\r\n    };\r\n    Rnd.prototype.getMaxSizesFromProps = function () {\r\n        var maxWidth = typeof this.props.maxWidth === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxWidth;\r\n        var maxHeight = typeof this.props.maxHeight === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxHeight;\r\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\r\n    };\r\n    Rnd.prototype.getSelfElement = function () {\r\n        return this.resizable && this.resizable.resizable;\r\n    };\r\n    Rnd.prototype.getOffsetHeight = function (boundary) {\r\n        var scale = this.props.scale;\r\n        switch (this.props.bounds) {\r\n            case \"window\":\r\n                return window.innerHeight / scale;\r\n            case \"body\":\r\n                return document.body.offsetHeight / scale;\r\n            default:\r\n                return boundary.offsetHeight;\r\n        }\r\n    };\r\n    Rnd.prototype.getOffsetWidth = function (boundary) {\r\n        var scale = this.props.scale;\r\n        switch (this.props.bounds) {\r\n            case \"window\":\r\n                return window.innerWidth / scale;\r\n            case \"body\":\r\n                return document.body.offsetWidth / scale;\r\n            default:\r\n                return boundary.offsetWidth;\r\n        }\r\n    };\r\n    Rnd.prototype.onDragStart = function (e, data) {\r\n        if (this.props.onDragStart) {\r\n            this.props.onDragStart(e, data);\r\n        }\r\n        if (!this.props.bounds)\r\n            return;\r\n        var parent = this.getParent();\r\n        var scale = this.props.scale;\r\n        var boundary;\r\n        if (this.props.bounds === \"parent\") {\r\n            boundary = parent;\r\n        }\r\n        else if (this.props.bounds === \"body\") {\r\n            var parentRect_1 = parent.getBoundingClientRect();\r\n            var parentLeft_1 = parentRect_1.left;\r\n            var parentTop_1 = parentRect_1.top;\r\n            var bodyRect = document.body.getBoundingClientRect();\r\n            var left_1 = -(parentLeft_1 - parent.offsetLeft * scale - bodyRect.left) / scale;\r\n            var top_1 = -(parentTop_1 - parent.offsetTop * scale - bodyRect.top) / scale;\r\n            var right = (document.body.offsetWidth - this.resizable.size.width * scale) / scale + left_1;\r\n            var bottom = (document.body.offsetHeight - this.resizable.size.height * scale) / scale + top_1;\r\n            return this.setState({ bounds: { top: top_1, right: right, bottom: bottom, left: left_1 } });\r\n        }\r\n        else if (this.props.bounds === \"window\") {\r\n            if (!this.resizable)\r\n                return;\r\n            var parentRect_2 = parent.getBoundingClientRect();\r\n            var parentLeft_2 = parentRect_2.left;\r\n            var parentTop_2 = parentRect_2.top;\r\n            var left_2 = -(parentLeft_2 - parent.offsetLeft * scale) / scale;\r\n            var top_2 = -(parentTop_2 - parent.offsetTop * scale) / scale;\r\n            var right = (window.innerWidth - this.resizable.size.width * scale) / scale + left_2;\r\n            var bottom = (window.innerHeight - this.resizable.size.height * scale) / scale + top_2;\r\n            return this.setState({ bounds: { top: top_2, right: right, bottom: bottom, left: left_2 } });\r\n        }\r\n        else {\r\n            boundary = document.querySelector(this.props.bounds);\r\n        }\r\n        if (!(boundary instanceof HTMLElement) || !(parent instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n        var boundaryRect = boundary.getBoundingClientRect();\r\n        var boundaryLeft = boundaryRect.left;\r\n        var boundaryTop = boundaryRect.top;\r\n        var parentRect = parent.getBoundingClientRect();\r\n        var parentLeft = parentRect.left;\r\n        var parentTop = parentRect.top;\r\n        var left = (boundaryLeft - parentLeft) / scale;\r\n        var top = boundaryTop - parentTop;\r\n        if (!this.resizable)\r\n            return;\r\n        var offset = this.getOffsetFromParent();\r\n        this.setState({\r\n            bounds: {\r\n                top: top - offset.top,\r\n                right: left + (boundary.offsetWidth - this.resizable.size.width) - offset.left / scale,\r\n                bottom: top + (boundary.offsetHeight - this.resizable.size.height) - offset.top,\r\n                left: left - offset.left / scale,\r\n            },\r\n        });\r\n    };\r\n    Rnd.prototype.onDrag = function (e, data) {\r\n        if (this.props.onDrag) {\r\n            var offset = this.getOffsetFromParent();\r\n            this.props.onDrag(e, __assign({}, data, { x: data.x - offset.left, y: data.y - offset.top }));\r\n        }\r\n    };\r\n    Rnd.prototype.onDragStop = function (e, data) {\r\n        if (this.props.onDragStop) {\r\n            var _a = this.getOffsetFromParent(), left = _a.left, top_3 = _a.top;\r\n            return this.props.onDragStop(e, __assign({}, data, { x: data.x + left, y: data.y + top_3 }));\r\n        }\r\n    };\r\n    Rnd.prototype.onResizeStart = function (e, dir, elementRef) {\r\n        e.stopPropagation();\r\n        this.isResizing = true;\r\n        var scale = this.props.scale;\r\n        this.setState({\r\n            original: this.getDraggablePosition(),\r\n        });\r\n        if (this.props.bounds) {\r\n            var parent_1 = this.getParent();\r\n            var boundary = void 0;\r\n            if (this.props.bounds === \"parent\") {\r\n                boundary = parent_1;\r\n            }\r\n            else if (this.props.bounds === \"body\") {\r\n                boundary = document.body;\r\n            }\r\n            else if (this.props.bounds === \"window\") {\r\n                boundary = window;\r\n            }\r\n            else {\r\n                boundary = document.querySelector(this.props.bounds);\r\n            }\r\n            var self_1 = this.getSelfElement();\r\n            if (self_1 instanceof Element &&\r\n                (boundary instanceof HTMLElement || boundary === window) &&\r\n                parent_1 instanceof HTMLElement) {\r\n                var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\r\n                var parentSize = this.getParentSize();\r\n                if (maxWidth && typeof maxWidth === \"string\") {\r\n                    if (maxWidth.endsWith(\"%\")) {\r\n                        var ratio = Number(maxWidth.replace(\"%\", \"\")) / 100;\r\n                        maxWidth = parentSize.width * ratio;\r\n                    }\r\n                    else if (maxWidth.endsWith(\"px\")) {\r\n                        maxWidth = Number(maxWidth.replace(\"px\", \"\"));\r\n                    }\r\n                }\r\n                if (maxHeight && typeof maxHeight === \"string\") {\r\n                    if (maxHeight.endsWith(\"%\")) {\r\n                        var ratio = Number(maxHeight.replace(\"%\", \"\")) / 100;\r\n                        maxHeight = parentSize.width * ratio;\r\n                    }\r\n                    else if (maxHeight.endsWith(\"px\")) {\r\n                        maxHeight = Number(maxHeight.replace(\"px\", \"\"));\r\n                    }\r\n                }\r\n                var selfRect = self_1.getBoundingClientRect();\r\n                var selfLeft = selfRect.left;\r\n                var selfTop = selfRect.top;\r\n                var boundaryRect = this.props.bounds === \"window\" ? { left: 0, top: 0 } : boundary.getBoundingClientRect();\r\n                var boundaryLeft = boundaryRect.left;\r\n                var boundaryTop = boundaryRect.top;\r\n                var offsetWidth = this.getOffsetWidth(boundary);\r\n                var offsetHeight = this.getOffsetHeight(boundary);\r\n                var hasLeft = dir.toLowerCase().endsWith(\"left\");\r\n                var hasRight = dir.toLowerCase().endsWith(\"right\");\r\n                var hasTop = dir.startsWith(\"top\");\r\n                var hasBottom = dir.startsWith(\"bottom\");\r\n                if (hasLeft && this.resizable) {\r\n                    var max = (selfLeft - boundaryLeft) / scale + this.resizable.size.width;\r\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\r\n                }\r\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\r\n                if (hasRight || (this.props.lockAspectRatio && !hasLeft)) {\r\n                    var max = offsetWidth + (boundaryLeft - selfLeft) / scale;\r\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\r\n                }\r\n                if (hasTop && this.resizable) {\r\n                    var max = (selfTop - boundaryTop) / scale + this.resizable.size.height;\r\n                    this.setState({\r\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\r\n                    });\r\n                }\r\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\r\n                if (hasBottom || (this.props.lockAspectRatio && !hasTop)) {\r\n                    var max = offsetHeight + (boundaryTop - selfTop) / scale;\r\n                    this.setState({\r\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                maxWidth: this.props.maxWidth,\r\n                maxHeight: this.props.maxHeight,\r\n            });\r\n        }\r\n        if (this.props.onResizeStart) {\r\n            this.props.onResizeStart(e, dir, elementRef);\r\n        }\r\n    };\r\n    Rnd.prototype.onResize = function (e, direction, elementRef, delta) {\r\n        var x;\r\n        var y;\r\n        var offset = this.getOffsetFromParent();\r\n        if (/left/i.test(direction)) {\r\n            x = this.state.original.x - delta.width;\r\n            // INFO: If uncontrolled component, apply x position by resize to draggable.\r\n            if (!this.props.position) {\r\n                this.draggable.setState({ x: x });\r\n            }\r\n            x += offset.left;\r\n        }\r\n        if (/top/i.test(direction)) {\r\n            y = this.state.original.y - delta.height;\r\n            // INFO: If uncontrolled component, apply y position by resize to draggable.\r\n            if (!this.props.position) {\r\n                this.draggable.setState({ y: y });\r\n            }\r\n            y += offset.top;\r\n        }\r\n        if (this.props.onResize) {\r\n            if (typeof x === \"undefined\") {\r\n                x = this.getDraggablePosition().x + offset.left;\r\n            }\r\n            if (typeof y === \"undefined\") {\r\n                y = this.getDraggablePosition().y + offset.top;\r\n            }\r\n            this.props.onResize(e, direction, elementRef, delta, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Rnd.prototype.onResizeStop = function (e, direction, elementRef, delta) {\r\n        this.isResizing = false;\r\n        var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\r\n        this.setState({ maxWidth: maxWidth, maxHeight: maxHeight });\r\n        if (this.props.onResizeStop) {\r\n            var position = this.getDraggablePosition();\r\n            this.props.onResizeStop(e, direction, elementRef, delta, position);\r\n        }\r\n    };\r\n    Rnd.prototype.updateSize = function (size) {\r\n        if (!this.resizable)\r\n            return;\r\n        this.resizable.updateSize({ width: size.width, height: size.height });\r\n    };\r\n    Rnd.prototype.updatePosition = function (position) {\r\n        this.draggable.setState(position);\r\n    };\r\n    Rnd.prototype.getOffsetFromParent = function () {\r\n        var scale = this.props.scale;\r\n        var parent = this.getParent();\r\n        var self = this.getSelfElement();\r\n        if (!parent || self === null) {\r\n            return {\r\n                top: 0,\r\n                left: 0,\r\n            };\r\n        }\r\n        var parentRect = parent.getBoundingClientRect();\r\n        var parentLeft = parentRect.left;\r\n        var parentTop = parentRect.top;\r\n        var selfRect = self.getBoundingClientRect();\r\n        var position = this.getDraggablePosition();\r\n        return {\r\n            left: selfRect.left - parentLeft - position.x * scale,\r\n            top: selfRect.top - parentTop - position.y * scale,\r\n        };\r\n    };\r\n    Rnd.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, disableDragging = _a.disableDragging, style = _a.style, dragHandleClassName = _a.dragHandleClassName, position = _a.position, onMouseDown = _a.onMouseDown, dragAxis = _a.dragAxis, dragGrid = _a.dragGrid, bounds = _a.bounds, enableUserSelectHack = _a.enableUserSelectHack, cancel = _a.cancel, children = _a.children, onResizeStart = _a.onResizeStart, onResize = _a.onResize, onResizeStop = _a.onResizeStop, onDragStart = _a.onDragStart, onDrag = _a.onDrag, onDragStop = _a.onDragStop, resizeHandleStyles = _a.resizeHandleStyles, resizeHandleClasses = _a.resizeHandleClasses, enableResizing = _a.enableResizing, resizeGrid = _a.resizeGrid, resizeHandleWrapperClass = _a.resizeHandleWrapperClass, resizeHandleWrapperStyle = _a.resizeHandleWrapperStyle, scale = _a.scale, resizableProps = __rest(_a, [\"disableDragging\", \"style\", \"dragHandleClassName\", \"position\", \"onMouseDown\", \"dragAxis\", \"dragGrid\", \"bounds\", \"enableUserSelectHack\", \"cancel\", \"children\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"onDragStart\", \"onDrag\", \"onDragStop\", \"resizeHandleStyles\", \"resizeHandleClasses\", \"enableResizing\", \"resizeGrid\", \"resizeHandleWrapperClass\", \"resizeHandleWrapperStyle\", \"scale\"]);\r\n        var defaultValue = this.props.default ? __assign({}, this.props.default) : undefined;\r\n        // Remove unknown props, see also https://reactjs.org/warnings/unknown-prop.html\r\n        delete resizableProps.default;\r\n        var cursorStyle = disableDragging || dragHandleClassName ? { cursor: \"auto\" } : { cursor: \"move\" };\r\n        var innerStyle = __assign({}, resizableStyle, cursorStyle, style);\r\n        var _b = this.getOffsetFromParent(), left = _b.left, top = _b.top;\r\n        var draggablePosition;\r\n        if (position) {\r\n            draggablePosition = {\r\n                x: position.x - left,\r\n                y: position.y - top,\r\n            };\r\n        }\r\n        return (createElement(Draggable, { ref: function (c) {\r\n                if (!c)\r\n                    return;\r\n                _this.draggable = c;\r\n            }, handle: dragHandleClassName ? \".\" + dragHandleClassName : undefined, defaultPosition: defaultValue, onMouseDown: onMouseDown, onStart: this.onDragStart, onDrag: this.onDrag, onStop: this.onDragStop, axis: dragAxis, disabled: disableDragging, grid: dragGrid, bounds: bounds ? this.state.bounds : undefined, position: draggablePosition, enableUserSelectHack: enableUserSelectHack, cancel: cancel, scale: scale },\r\n            createElement(Resizable, __assign({}, resizableProps, { ref: function (c) {\r\n                    if (c) {\r\n                        _this.resizable = c;\r\n                    }\r\n                }, defaultSize: defaultValue, size: this.props.size, enable: enableResizing, onResizeStart: this.onResizeStart, onResize: this.onResize, onResizeStop: this.onResizeStop, style: innerStyle, minWidth: this.props.minWidth, minHeight: this.props.minHeight, maxWidth: this.isResizing ? this.state.maxWidth : this.props.maxWidth, maxHeight: this.isResizing ? this.state.maxHeight : this.props.maxHeight, grid: resizeGrid, handleWrapperClass: resizeHandleWrapperClass, handleWrapperStyle: resizeHandleWrapperStyle, lockAspectRatio: this.props.lockAspectRatio, lockAspectRatioExtraWidth: this.props.lockAspectRatioExtraWidth, lockAspectRatioExtraHeight: this.props.lockAspectRatioExtraHeight, handleStyles: resizeHandleStyles, handleClasses: resizeHandleClasses, scale: this.props.scale }), children)));\r\n    };\r\n    Rnd.defaultProps = {\r\n        maxWidth: Number.MAX_SAFE_INTEGER,\r\n        maxHeight: Number.MAX_SAFE_INTEGER,\r\n        scale: 1,\r\n        onResizeStart: function () { },\r\n        onResize: function () { },\r\n        onResizeStop: function () { },\r\n        onDragStart: function () { },\r\n        onDrag: function () { },\r\n        onDragStop: function () { },\r\n    };\r\n    return Rnd;\r\n}(Component));\n\nexport { Rnd };\n"]},"metadata":{},"sourceType":"module"}