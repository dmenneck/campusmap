{"ast":null,"code":"'use strict';\n\nvar Promise = require('lie');\n\nmodule.exports = binaryAjax;\n\nfunction binaryAjax(url) {\n  return new Promise(function (resolve, reject) {\n    var type = url.slice(-3);\n    var ajax = new XMLHttpRequest();\n    ajax.open('GET', url, true);\n\n    if (type !== 'prj' && type !== 'cpg') {\n      ajax.responseType = 'arraybuffer';\n    }\n\n    ajax.addEventListener('load', function () {\n      if (ajax.status > 399) {\n        if (type === 'prj' || type === 'cpg') {\n          return resolve(false);\n        } else {\n          return reject(new Error(ajax.status));\n        }\n      }\n\n      if (type !== 'prj' && type !== 'cpg') {\n        return resolve(new Buffer(ajax.response));\n      } else {\n        return resolve(ajax.response);\n      }\n    }, false);\n    ajax.send();\n  });\n}","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/shpjs/lib/binaryajax-browser.js"],"names":["Promise","require","module","exports","binaryAjax","url","resolve","reject","type","slice","ajax","XMLHttpRequest","open","responseType","addEventListener","status","Error","Buffer","response","send"],"mappings":"AAAA;;AACA,IAAIA,OAAO,GAAGC,OAAO,CAAC,KAAD,CAArB;;AACAC,MAAM,CAACC,OAAP,GAAiBC,UAAjB;;AACA,SAASA,UAAT,CAAoBC,GAApB,EAAwB;AACvB,SAAO,IAAIL,OAAJ,CAAY,UAASM,OAAT,EAAiBC,MAAjB,EAAwB;AAC1C,QAAIC,IAAI,GAAGH,GAAG,CAACI,KAAJ,CAAU,CAAC,CAAX,CAAX;AACA,QAAIC,IAAI,GAAG,IAAIC,cAAJ,EAAX;AACAD,IAAAA,IAAI,CAACE,IAAL,CAAU,KAAV,EAAgBP,GAAhB,EAAoB,IAApB;;AACA,QAAGG,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,KAA9B,EAAoC;AACnCE,MAAAA,IAAI,CAACG,YAAL,GAAkB,aAAlB;AACA;;AACDH,IAAAA,IAAI,CAACI,gBAAL,CAAsB,MAAtB,EAA8B,YAAW;AACxC,UAAGJ,IAAI,CAACK,MAAL,GAAY,GAAf,EAAmB;AAClB,YAAGP,IAAI,KAAG,KAAP,IAAgBA,IAAI,KAAK,KAA5B,EAAkC;AACjC,iBAAOF,OAAO,CAAC,KAAD,CAAd;AACA,SAFD,MAEK;AACJ,iBAAOC,MAAM,CAAC,IAAIS,KAAJ,CAAUN,IAAI,CAACK,MAAf,CAAD,CAAb;AACA;AACD;;AACD,UAAGP,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,KAA9B,EAAoC;AACnC,eAAOF,OAAO,CAAC,IAAIW,MAAJ,CAAWP,IAAI,CAACQ,QAAhB,CAAD,CAAd;AACA,OAFD,MAEO;AACN,eAAOZ,OAAO,CAACI,IAAI,CAACQ,QAAN,CAAd;AACA;AACD,KAbD,EAaG,KAbH;AAcAR,IAAAA,IAAI,CAACS,IAAL;AACA,GAtBM,CAAP;AAuBA","sourcesContent":["'use strict';\nvar Promise = require('lie');\nmodule.exports = binaryAjax;\nfunction binaryAjax(url){\n\treturn new Promise(function(resolve,reject){\n\t\tvar type = url.slice(-3);\n\t\tvar ajax = new XMLHttpRequest();\n\t\tajax.open('GET',url,true);\n\t\tif(type !== 'prj' && type !== 'cpg'){\n\t\t\tajax.responseType='arraybuffer';\n\t\t}\n\t\tajax.addEventListener('load', function (){\n\t\t\tif(ajax.status>399){\n\t\t\t\tif(type==='prj' || type === 'cpg'){\n\t\t\t\t\treturn resolve(false);\n\t\t\t\t}else{\n\t\t\t\t\treturn reject(new Error(ajax.status));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(type !== 'prj' && type !== 'cpg'){\n\t\t\t\treturn resolve(new Buffer(ajax.response));\n\t\t\t} else {\n\t\t\t\treturn resolve(ajax.response);\n\t\t\t}\n\t\t}, false);\n\t\tajax.send();\n\t});\n}\n"]},"metadata":{},"sourceType":"script"}