{"ast":null,"code":"/**\n * @module ol/webgl\n */\n\n/**\n * Constants taken from goog.webgl\n */\n\n/**\n * @const\n * @type {number}\n */\nexport const ONE = 1;\n/**\n * @const\n * @type {number}\n */\n\nexport const SRC_ALPHA = 0x0302;\n/**\n * @const\n * @type {number}\n */\n\nexport const COLOR_ATTACHMENT0 = 0x8CE0;\n/**\n * @const\n * @type {number}\n */\n\nexport const COLOR_BUFFER_BIT = 0x00004000;\n/**\n * @const\n * @type {number}\n */\n\nexport const TRIANGLES = 0x0004;\n/**\n * @const\n * @type {number}\n */\n\nexport const TRIANGLE_STRIP = 0x0005;\n/**\n * @const\n * @type {number}\n */\n\nexport const ONE_MINUS_SRC_ALPHA = 0x0303;\n/**\n * @const\n * @type {number}\n */\n\nexport const ARRAY_BUFFER = 0x8892;\n/**\n * @const\n * @type {number}\n */\n\nexport const ELEMENT_ARRAY_BUFFER = 0x8893;\n/**\n * @const\n * @type {number}\n */\n\nexport const STREAM_DRAW = 0x88E0;\n/**\n * @const\n * @type {number}\n */\n\nexport const STATIC_DRAW = 0x88E4;\n/**\n * @const\n * @type {number}\n */\n\nexport const DYNAMIC_DRAW = 0x88E8;\n/**\n * @const\n * @type {number}\n */\n\nexport const CULL_FACE = 0x0B44;\n/**\n * @const\n * @type {number}\n */\n\nexport const BLEND = 0x0BE2;\n/**\n * @const\n * @type {number}\n */\n\nexport const STENCIL_TEST = 0x0B90;\n/**\n * @const\n * @type {number}\n */\n\nexport const DEPTH_TEST = 0x0B71;\n/**\n * @const\n * @type {number}\n */\n\nexport const SCISSOR_TEST = 0x0C11;\n/**\n * @const\n * @type {number}\n */\n\nexport const UNSIGNED_BYTE = 0x1401;\n/**\n * @const\n * @type {number}\n */\n\nexport const UNSIGNED_SHORT = 0x1403;\n/**\n * @const\n * @type {number}\n */\n\nexport const UNSIGNED_INT = 0x1405;\n/**\n * @const\n * @type {number}\n */\n\nexport const FLOAT = 0x1406;\n/**\n * @const\n * @type {number}\n */\n\nexport const RGBA = 0x1908;\n/**\n * @const\n * @type {number}\n */\n\nexport const FRAGMENT_SHADER = 0x8B30;\n/**\n * @const\n * @type {number}\n */\n\nexport const VERTEX_SHADER = 0x8B31;\n/**\n * @const\n * @type {number}\n */\n\nexport const LINK_STATUS = 0x8B82;\n/**\n * @const\n * @type {number}\n */\n\nexport const LINEAR = 0x2601;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE_MAG_FILTER = 0x2800;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE_MIN_FILTER = 0x2801;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE_WRAP_S = 0x2802;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE_WRAP_T = 0x2803;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE_2D = 0x0DE1;\n/**\n * @const\n * @type {number}\n */\n\nexport const TEXTURE0 = 0x84C0;\n/**\n * @const\n * @type {number}\n */\n\nexport const CLAMP_TO_EDGE = 0x812F;\n/**\n * @const\n * @type {number}\n */\n\nexport const COMPILE_STATUS = 0x8B81;\n/**\n * @const\n * @type {number}\n */\n\nexport const FRAMEBUFFER = 0x8D40;\n/** end of goog.webgl constants\n */\n\n/**\n * @const\n * @type {Array.<string>}\n */\n\nconst CONTEXT_IDS = ['experimental-webgl', 'webgl', 'webkit-3d', 'moz-webgl'];\n/**\n * @param {HTMLCanvasElement} canvas Canvas.\n * @param {Object=} opt_attributes Attributes.\n * @return {WebGLRenderingContext} WebGL rendering context.\n */\n\nexport function getContext(canvas, opt_attributes) {\n  const ii = CONTEXT_IDS.length;\n\n  for (let i = 0; i < ii; ++i) {\n    try {\n      const context = canvas.getContext(CONTEXT_IDS[i], opt_attributes);\n\n      if (context) {\n        return (\n          /** @type {!WebGLRenderingContext} */\n          context\n        );\n      }\n    } catch (e) {// pass\n    }\n  }\n\n  return null;\n}\n/**\n * Include debuggable shader sources.  Default is `true`. This should be set to\n * `false` for production builds.\n * @type {boolean}\n */\n\nexport const DEBUG = true;\n/**\n * The maximum supported WebGL texture size in pixels. If WebGL is not\n * supported, the value is set to `undefined`.\n * @type {number|undefined}\n */\n\nlet MAX_TEXTURE_SIZE; // value is set below\n\n/**\n * List of supported WebGL extensions.\n * @type {Array.<string>}\n */\n\nlet EXTENSIONS; // value is set below\n\n/**\n * True if both OpenLayers and browser support WebGL.\n * @const ol/has.WEBGL\n * @type {boolean}\n * @api\n */\n\nlet HAS = false; //TODO Remove side effects\n\nif (typeof window !== 'undefined' && 'WebGLRenderingContext' in window) {\n  try {\n    const canvas =\n    /** @type {HTMLCanvasElement} */\n    document.createElement('CANVAS');\n    const gl = getContext(canvas, {\n      failIfMajorPerformanceCaveat: true\n    });\n\n    if (gl) {\n      HAS = true;\n      MAX_TEXTURE_SIZE =\n      /** @type {number} */\n      gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      EXTENSIONS = gl.getSupportedExtensions();\n    }\n  } catch (e) {// pass\n  }\n}\n\nexport { HAS, MAX_TEXTURE_SIZE, EXTENSIONS };","map":null,"metadata":{},"sourceType":"module"}