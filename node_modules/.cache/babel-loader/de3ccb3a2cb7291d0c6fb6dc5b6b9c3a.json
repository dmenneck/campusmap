{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"antd/es/select/style\");\n\nvar _select = _interopRequireDefault(require(\"antd/es/select\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Map = _interopRequireDefault(require(\"ol/Map\"));\n\nvar _isInteger = _interopRequireDefault(require(\"lodash/isInteger\"));\n\nvar _isEmpty = _interopRequireDefault(require(\"lodash/isEmpty\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _reverse = _interopRequireDefault(require(\"lodash/reverse\"));\n\nvar _clone = _interopRequireDefault(require(\"lodash/clone\"));\n\nvar _Logger = _interopRequireDefault(require(\"@terrestris/base-util/dist/Logger\"));\n\nvar _MapUtil = _interopRequireDefault(require(\"@terrestris/ol-util/dist/MapUtil/MapUtil\"));\n\nvar _constants = require(\"../../constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Option = _select[\"default\"].Option;\n/**\n * Class representing a scale combo to choose map scale via a dropdown menu.\n *\n * @class The ScaleCombo\n * @extends React.Component\n */\n\nvar ScaleCombo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScaleCombo, _React$Component);\n\n  _createClass(ScaleCombo, null, [{\n    key: \"getDerivedStateFromProps\",\n\n    /**\n     * The className added to this component.\n     * @type {String}\n     * @private\n     */\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if ((0, _isInteger[\"default\"])(nextProps.zoomLevel) && !(0, _isEqual[\"default\"])(nextProps.zoomLevel, prevState.zoomLevel)) {\n        return {\n          zoomLevel: nextProps.zoomLevel\n        };\n      }\n\n      if ((0, _isFunction[\"default\"])(nextProps.onZoomLevelSelect) && !(0, _isEqual[\"default\"])(nextProps.onZoomLevelSelect, prevState.onZoomLevelSelect)) {\n        return {\n          onZoomLevelSelect: nextProps.onZoomLevelSelect\n        };\n      }\n\n      return null;\n    }\n    /**\n     * Create a scale combo.\n     * @constructs ScaleCombo\n     */\n\n  }]);\n\n  function ScaleCombo(props) {\n    var _this;\n\n    _classCallCheck(this, ScaleCombo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScaleCombo).call(this, props));\n    /**\n     * The default onZoomLevelSelect function sets the resolution of the passed\n     * map according to the selected Scale.\n     *\n     * @param {Number} selectedScale The selectedScale.\n     */\n\n    _defineProperty(_assertThisInitialized(_this), \"className\", \"\".concat(_constants.CSS_PREFIX, \"scalecombo\"));\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomListener\", function (evt) {\n      var zoom = evt.target.getView().getZoom();\n      var roundZoom = Math.round(zoom);\n\n      if (!roundZoom) {\n        roundZoom = 0;\n      }\n\n      _this.setState({\n        zoomLevel: roundZoom\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pushScale\", function (scales, resolution, mv) {\n      var scale = _MapUtil[\"default\"].getScaleForResolution(resolution, mv.getProjection().getUnits());\n\n      var roundScale = _MapUtil[\"default\"].roundScale(scale);\n\n      if (scales.includes(roundScale)) {\n        return;\n      }\n\n      scales.push(roundScale);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getOptionsFromMap\", function () {\n      var _this$props = _this.props,\n          map = _this$props.map,\n          resolutionsFilter = _this$props.resolutionsFilter;\n\n      if (!(0, _isEmpty[\"default\"])(_this.state.scales)) {\n        _Logger[\"default\"].debug('Array with scales found. Returning');\n\n        return;\n      }\n\n      if (!map) {\n        _Logger[\"default\"].warn('Map component not found. Could not initialize options array.');\n\n        return;\n      }\n\n      var scales = [];\n      var mv = map.getView(); // use existing resolutions array if exists\n\n      var resolutions = mv.getResolutions();\n\n      if ((0, _isEmpty[\"default\"])(resolutions)) {\n        for (var currentZoomLevel = mv.getMaxZoom(); currentZoomLevel >= mv.getMinZoom(); currentZoomLevel--) {\n          var resolution = mv.getResolutionForZoom(currentZoomLevel);\n\n          if (resolutionsFilter(resolution)) {\n            _this.pushScale(scales, resolution, mv);\n          }\n        }\n      } else {\n        var reversedResolutions = (0, _reverse[\"default\"])((0, _clone[\"default\"])(resolutions));\n        reversedResolutions.filter(resolutionsFilter).forEach(function (resolution) {\n          _this.pushScale(scales, resolution, mv);\n        });\n      }\n\n      return scales;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"determineOptionKeyForZoomLevel\", function (zoom) {\n      if (!(0, _isInteger[\"default\"])(zoom) || _this.state.scales.length - 1 - zoom < 0) {\n        return undefined;\n      }\n\n      return _this.state.scales[_this.state.scales.length - 1 - zoom].toString();\n    });\n\n    var defaultOnZoomLevelSelect = function defaultOnZoomLevelSelect(selectedScale) {\n      var mapView = props.map.getView();\n\n      var calculatedResolution = _MapUtil[\"default\"].getResolutionForScale(selectedScale, mapView.getProjection().getUnits());\n\n      mapView.setResolution(calculatedResolution);\n    };\n\n    _this.state = {\n      zoomLevel: props.zoomLevel || props.map.getView().getZoom(),\n      onZoomLevelSelect: props.onZoomLevelSelect || defaultOnZoomLevelSelect,\n      scales: props.scales\n    };\n\n    if (props.syncWithMap) {\n      props.map.on('moveend', _this.zoomListener);\n    }\n\n    if ((0, _isEmpty[\"default\"])(_this.state.scales) && _this.props.map) {\n      _this.state.scales = _this.getOptionsFromMap();\n    }\n\n    return _this;\n  }\n  /**\n   * Invoked immediately after updating occurs. This method is not called for\n   * the initial render.\n   *\n   * @param {Object} prevProps The previous props.\n   */\n\n\n  _createClass(ScaleCombo, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props2 = this.props,\n          map = _this$props2.map,\n          syncWithMap = _this$props2.syncWithMap;\n\n      if (!(0, _isEqual[\"default\"])(syncWithMap, prevProps.syncWithMap)) {\n        if (syncWithMap) {\n          map.on('moveend', this.zoomListener);\n        } else {\n          map.un('moveend', this.zoomListener);\n        }\n      }\n    }\n    /**\n     * Set the zoomLevel of the to the ScaleCombo.\n     *\n     * @param  {Object} evt The 'moveend' event\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n\n    /**\n     * The render function.\n     */\n    value: function render() {\n      var _this$props3 = this.props,\n          style = _this$props3.style,\n          className = _this$props3.className;\n      var _this$state = this.state,\n          onZoomLevelSelect = _this$state.onZoomLevelSelect,\n          scales = _this$state.scales,\n          zoomLevel = _this$state.zoomLevel;\n      var finalClassName = className ? \"\".concat(className, \" \").concat(this.className) : this.className;\n      var options = scales.map(function (roundScale) {\n        return _react[\"default\"].createElement(Option, {\n          key: roundScale,\n          value: roundScale.toString()\n        }, \"1:\".concat(roundScale.toLocaleString()));\n      });\n      return _react[\"default\"].createElement(_select[\"default\"], {\n        showSearch: true,\n        onChange: onZoomLevelSelect,\n        filterOption: function filterOption(input, option) {\n          return option.key.startsWith(input);\n        },\n        value: this.determineOptionKeyForZoomLevel(zoomLevel),\n        size: \"small\",\n        style: style,\n        className: finalClassName\n      }, options);\n    }\n  }]);\n\n  return ScaleCombo;\n}(_react[\"default\"].Component);\n\n_defineProperty(ScaleCombo, \"propTypes\", {\n  /**\n   * An optional CSS class which should be added.\n   * @type {String}\n   */\n  className: _propTypes[\"default\"].string,\n\n  /**\n   * The zoomLevel.\n   * @type {Number}\n   */\n  zoomLevel: _propTypes[\"default\"].number,\n\n  /**\n   * The onZoomLevelSelect function. Pass a function if you want something\n   * different than the resolution of the passed map.\n   *\n   * @type {Function}\n   */\n  onZoomLevelSelect: _propTypes[\"default\"].func,\n\n  /**\n   * The resolutions.\n   * @type {Array}\n   */\n  resolutions: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number),\n\n  /**\n   * The scales.\n   * @type {Array}\n   */\n  scales: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape),\n\n  /**\n   * A filter function to filter resolutions no options should be created\n   * @type {Function}\n   */\n  resolutionsFilter: _propTypes[\"default\"].func,\n\n  /**\n   * The style object\n   * @type {Object}\n   */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * The map\n   * @type {Ol.Map}\n   */\n  map: _propTypes[\"default\"].instanceOf(_Map[\"default\"]).isRequired,\n\n  /**\n   * Set to false to not listen to the map moveend event.\n   *\n   * @type {Boolean}\n   */\n  syncWithMap: _propTypes[\"default\"].bool\n  /**\n   * The default props\n   */\n\n});\n\n_defineProperty(ScaleCombo, \"defaultProps\", {\n  resolutionsFilter: function resolutionsFilter() {\n    return true;\n  },\n  style: {\n    width: 100\n  },\n  scales: [],\n  syncWithMap: true\n  /**\n   * Invoked after the component is instantiated as well as when it\n   * receives new props. It should return an object to update state, or null\n   * to indicate that the new props do not require any state updates.\n   *\n   * @param {Object} nextProps The next properties.\n   * @param {Object} prevState The previous state.\n   */\n\n});\n\nvar _default = ScaleCombo;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/@terrestris/react-geo/dist/Field/ScaleCombo/ScaleCombo.js"],"names":["Object","defineProperty","exports","value","require","_select","_interopRequireDefault","_react","_propTypes","_Map","_isInteger","_isEmpty","_isEqual","_isFunction","_reverse","_clone","_Logger","_MapUtil","_constants","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","Option","ScaleCombo","_React$Component","getDerivedStateFromProps","nextProps","prevState","zoomLevel","onZoomLevelSelect","_this","concat","CSS_PREFIX","evt","zoom","getView","getZoom","roundZoom","Math","round","setState","scales","resolution","mv","scale","getScaleForResolution","getProjection","getUnits","roundScale","includes","push","_this$props","map","resolutionsFilter","state","debug","warn","resolutions","getResolutions","currentZoomLevel","getMaxZoom","getMinZoom","getResolutionForZoom","pushScale","reversedResolutions","filter","forEach","undefined","toString","defaultOnZoomLevelSelect","selectedScale","mapView","calculatedResolution","getResolutionForScale","setResolution","syncWithMap","on","zoomListener","getOptionsFromMap","componentDidUpdate","prevProps","_this$props2","un","render","_this$props3","style","className","_this$state","finalClassName","options","createElement","toLocaleString","showSearch","onChange","filterOption","input","option","startsWith","determineOptionKeyForZoomLevel","size","Component","string","number","func","arrayOf","shape","object","instanceOf","isRequired","bool","width","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"antd/es/select/style\");\n\nvar _select = _interopRequireDefault(require(\"antd/es/select\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Map = _interopRequireDefault(require(\"ol/Map\"));\n\nvar _isInteger = _interopRequireDefault(require(\"lodash/isInteger\"));\n\nvar _isEmpty = _interopRequireDefault(require(\"lodash/isEmpty\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _reverse = _interopRequireDefault(require(\"lodash/reverse\"));\n\nvar _clone = _interopRequireDefault(require(\"lodash/clone\"));\n\nvar _Logger = _interopRequireDefault(require(\"@terrestris/base-util/dist/Logger\"));\n\nvar _MapUtil = _interopRequireDefault(require(\"@terrestris/ol-util/dist/MapUtil/MapUtil\"));\n\nvar _constants = require(\"../../constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Option = _select[\"default\"].Option;\n\n/**\n * Class representing a scale combo to choose map scale via a dropdown menu.\n *\n * @class The ScaleCombo\n * @extends React.Component\n */\nvar ScaleCombo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScaleCombo, _React$Component);\n\n  _createClass(ScaleCombo, null, [{\n    key: \"getDerivedStateFromProps\",\n\n    /**\n     * The className added to this component.\n     * @type {String}\n     * @private\n     */\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if ((0, _isInteger[\"default\"])(nextProps.zoomLevel) && !(0, _isEqual[\"default\"])(nextProps.zoomLevel, prevState.zoomLevel)) {\n        return {\n          zoomLevel: nextProps.zoomLevel\n        };\n      }\n\n      if ((0, _isFunction[\"default\"])(nextProps.onZoomLevelSelect) && !(0, _isEqual[\"default\"])(nextProps.onZoomLevelSelect, prevState.onZoomLevelSelect)) {\n        return {\n          onZoomLevelSelect: nextProps.onZoomLevelSelect\n        };\n      }\n\n      return null;\n    }\n    /**\n     * Create a scale combo.\n     * @constructs ScaleCombo\n     */\n\n  }]);\n\n  function ScaleCombo(props) {\n    var _this;\n\n    _classCallCheck(this, ScaleCombo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScaleCombo).call(this, props));\n    /**\n     * The default onZoomLevelSelect function sets the resolution of the passed\n     * map according to the selected Scale.\n     *\n     * @param {Number} selectedScale The selectedScale.\n     */\n\n    _defineProperty(_assertThisInitialized(_this), \"className\", \"\".concat(_constants.CSS_PREFIX, \"scalecombo\"));\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomListener\", function (evt) {\n      var zoom = evt.target.getView().getZoom();\n      var roundZoom = Math.round(zoom);\n\n      if (!roundZoom) {\n        roundZoom = 0;\n      }\n\n      _this.setState({\n        zoomLevel: roundZoom\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pushScale\", function (scales, resolution, mv) {\n      var scale = _MapUtil[\"default\"].getScaleForResolution(resolution, mv.getProjection().getUnits());\n\n      var roundScale = _MapUtil[\"default\"].roundScale(scale);\n\n      if (scales.includes(roundScale)) {\n        return;\n      }\n\n      scales.push(roundScale);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getOptionsFromMap\", function () {\n      var _this$props = _this.props,\n          map = _this$props.map,\n          resolutionsFilter = _this$props.resolutionsFilter;\n\n      if (!(0, _isEmpty[\"default\"])(_this.state.scales)) {\n        _Logger[\"default\"].debug('Array with scales found. Returning');\n\n        return;\n      }\n\n      if (!map) {\n        _Logger[\"default\"].warn('Map component not found. Could not initialize options array.');\n\n        return;\n      }\n\n      var scales = [];\n      var mv = map.getView(); // use existing resolutions array if exists\n\n      var resolutions = mv.getResolutions();\n\n      if ((0, _isEmpty[\"default\"])(resolutions)) {\n        for (var currentZoomLevel = mv.getMaxZoom(); currentZoomLevel >= mv.getMinZoom(); currentZoomLevel--) {\n          var resolution = mv.getResolutionForZoom(currentZoomLevel);\n\n          if (resolutionsFilter(resolution)) {\n            _this.pushScale(scales, resolution, mv);\n          }\n        }\n      } else {\n        var reversedResolutions = (0, _reverse[\"default\"])((0, _clone[\"default\"])(resolutions));\n        reversedResolutions.filter(resolutionsFilter).forEach(function (resolution) {\n          _this.pushScale(scales, resolution, mv);\n        });\n      }\n\n      return scales;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"determineOptionKeyForZoomLevel\", function (zoom) {\n      if (!(0, _isInteger[\"default\"])(zoom) || _this.state.scales.length - 1 - zoom < 0) {\n        return undefined;\n      }\n\n      return _this.state.scales[_this.state.scales.length - 1 - zoom].toString();\n    });\n\n    var defaultOnZoomLevelSelect = function defaultOnZoomLevelSelect(selectedScale) {\n      var mapView = props.map.getView();\n\n      var calculatedResolution = _MapUtil[\"default\"].getResolutionForScale(selectedScale, mapView.getProjection().getUnits());\n\n      mapView.setResolution(calculatedResolution);\n    };\n\n    _this.state = {\n      zoomLevel: props.zoomLevel || props.map.getView().getZoom(),\n      onZoomLevelSelect: props.onZoomLevelSelect || defaultOnZoomLevelSelect,\n      scales: props.scales\n    };\n\n    if (props.syncWithMap) {\n      props.map.on('moveend', _this.zoomListener);\n    }\n\n    if ((0, _isEmpty[\"default\"])(_this.state.scales) && _this.props.map) {\n      _this.state.scales = _this.getOptionsFromMap();\n    }\n\n    return _this;\n  }\n  /**\n   * Invoked immediately after updating occurs. This method is not called for\n   * the initial render.\n   *\n   * @param {Object} prevProps The previous props.\n   */\n\n\n  _createClass(ScaleCombo, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props2 = this.props,\n          map = _this$props2.map,\n          syncWithMap = _this$props2.syncWithMap;\n\n      if (!(0, _isEqual[\"default\"])(syncWithMap, prevProps.syncWithMap)) {\n        if (syncWithMap) {\n          map.on('moveend', this.zoomListener);\n        } else {\n          map.un('moveend', this.zoomListener);\n        }\n      }\n    }\n    /**\n     * Set the zoomLevel of the to the ScaleCombo.\n     *\n     * @param  {Object} evt The 'moveend' event\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n\n    /**\n     * The render function.\n     */\n    value: function render() {\n      var _this$props3 = this.props,\n          style = _this$props3.style,\n          className = _this$props3.className;\n      var _this$state = this.state,\n          onZoomLevelSelect = _this$state.onZoomLevelSelect,\n          scales = _this$state.scales,\n          zoomLevel = _this$state.zoomLevel;\n      var finalClassName = className ? \"\".concat(className, \" \").concat(this.className) : this.className;\n      var options = scales.map(function (roundScale) {\n        return _react[\"default\"].createElement(Option, {\n          key: roundScale,\n          value: roundScale.toString()\n        }, \"1:\".concat(roundScale.toLocaleString()));\n      });\n      return _react[\"default\"].createElement(_select[\"default\"], {\n        showSearch: true,\n        onChange: onZoomLevelSelect,\n        filterOption: function filterOption(input, option) {\n          return option.key.startsWith(input);\n        },\n        value: this.determineOptionKeyForZoomLevel(zoomLevel),\n        size: \"small\",\n        style: style,\n        className: finalClassName\n      }, options);\n    }\n  }]);\n\n  return ScaleCombo;\n}(_react[\"default\"].Component);\n\n_defineProperty(ScaleCombo, \"propTypes\", {\n  /**\n   * An optional CSS class which should be added.\n   * @type {String}\n   */\n  className: _propTypes[\"default\"].string,\n\n  /**\n   * The zoomLevel.\n   * @type {Number}\n   */\n  zoomLevel: _propTypes[\"default\"].number,\n\n  /**\n   * The onZoomLevelSelect function. Pass a function if you want something\n   * different than the resolution of the passed map.\n   *\n   * @type {Function}\n   */\n  onZoomLevelSelect: _propTypes[\"default\"].func,\n\n  /**\n   * The resolutions.\n   * @type {Array}\n   */\n  resolutions: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number),\n\n  /**\n   * The scales.\n   * @type {Array}\n   */\n  scales: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape),\n\n  /**\n   * A filter function to filter resolutions no options should be created\n   * @type {Function}\n   */\n  resolutionsFilter: _propTypes[\"default\"].func,\n\n  /**\n   * The style object\n   * @type {Object}\n   */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * The map\n   * @type {Ol.Map}\n   */\n  map: _propTypes[\"default\"].instanceOf(_Map[\"default\"]).isRequired,\n\n  /**\n   * Set to false to not listen to the map moveend event.\n   *\n   * @type {Boolean}\n   */\n  syncWithMap: _propTypes[\"default\"].bool\n  /**\n   * The default props\n   */\n\n});\n\n_defineProperty(ScaleCombo, \"defaultProps\", {\n  resolutionsFilter: function resolutionsFilter() {\n    return true;\n  },\n  style: {\n    width: 100\n  },\n  scales: [],\n  syncWithMap: true\n  /**\n   * Invoked after the component is instantiated as well as when it\n   * receives new props. It should return an object to update state, or null\n   * to indicate that the new props do not require any state updates.\n   *\n   * @param {Object} nextProps The next properties.\n   * @param {Object} prevState The previous state.\n   */\n\n});\n\nvar _default = ScaleCombo;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}