{"ast":null,"code":"/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar beanStub_1 = require(\"../context/beanStub\");\n\nvar eventService_1 = require(\"../eventService\");\n\nvar events_1 = require(\"../events\");\n\nvar context_1 = require(\"../context/context\");\n\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\n\nvar selectionController_1 = require(\"../selectionController\");\n\nvar columnApi_1 = require(\"../columnController/columnApi\");\n\nvar gridApi_1 = require(\"../gridApi\");\n\nvar utils_1 = require(\"../utils\");\n\nvar PaginationProxy =\n/** @class */\nfunction (_super) {\n  __extends(PaginationProxy, _super);\n\n  function PaginationProxy() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.currentPage = 0;\n    _this.topDisplayedRowIndex = 0;\n    _this.bottomDisplayedRowIndex = 0;\n    _this.pixelOffset = 0;\n    _this.masterRowCount = 0;\n    return _this;\n  }\n\n  PaginationProxy.prototype.postConstruct = function () {\n    this.active = this.gridOptionsWrapper.isPagination();\n    this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n    this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n    this.addDestroyableEventListener(this.gridOptionsWrapper, 'paginationPageSize', this.onModelUpdated.bind(this));\n    this.onModelUpdated();\n  };\n\n  PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n    var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n\n    if (res) {\n      this.calculatePages();\n    }\n\n    return res;\n  };\n\n  PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n    this.calculatePages();\n    var paginationChangedEvent = {\n      type: events_1.Events.EVENT_PAGINATION_CHANGED,\n      animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n      newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n      newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n      keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    };\n    this.eventService.dispatchEvent(paginationChangedEvent);\n  };\n\n  PaginationProxy.prototype.goToPage = function (page) {\n    if (!this.active) {\n      return;\n    }\n\n    if (this.currentPage === page) {\n      return;\n    }\n\n    this.currentPage = page;\n    var event = {\n      type: events_1.Events.EVENT_MODEL_UPDATED,\n      animate: false,\n      keepRenderedRows: false,\n      newData: false,\n      newPage: true,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    };\n    this.onModelUpdated(event);\n  };\n\n  PaginationProxy.prototype.getPixelOffset = function () {\n    return this.pixelOffset;\n  };\n\n  PaginationProxy.prototype.getRow = function (index) {\n    return this.rowModel.getRow(index);\n  };\n\n  PaginationProxy.prototype.getRowNode = function (id) {\n    return this.rowModel.getRowNode(id);\n  };\n\n  PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n    return this.rowModel.getRowIndexAtPixel(pixel);\n  };\n\n  PaginationProxy.prototype.getCurrentPageHeight = function () {\n    if (utils_1._.missing(this.topRowBounds) || utils_1._.missing(this.bottomRowBounds)) {\n      return 0;\n    }\n\n    return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n  };\n\n  PaginationProxy.prototype.isRowPresent = function (rowNode) {\n    if (!this.rowModel.isRowPresent(rowNode)) {\n      return false;\n    }\n\n    var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n    return nodeIsInPage;\n  };\n\n  PaginationProxy.prototype.isEmpty = function () {\n    return this.rowModel.isEmpty();\n  };\n\n  PaginationProxy.prototype.isRowsToRender = function () {\n    return this.rowModel.isRowsToRender();\n  };\n\n  PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n    return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n  };\n\n  PaginationProxy.prototype.forEachNode = function (callback) {\n    return this.rowModel.forEachNode(callback);\n  };\n\n  PaginationProxy.prototype.getType = function () {\n    return this.rowModel.getType();\n  };\n\n  PaginationProxy.prototype.getRowBounds = function (index) {\n    var res = this.rowModel.getRowBounds(index);\n    res.rowIndex = index;\n    return res;\n  };\n\n  PaginationProxy.prototype.getPageFirstRow = function () {\n    return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n  };\n\n  PaginationProxy.prototype.getPageLastRow = function () {\n    return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n  };\n\n  PaginationProxy.prototype.getRowCount = function () {\n    return this.rowModel.getRowCount();\n  };\n\n  PaginationProxy.prototype.goToPageWithIndex = function (index) {\n    if (!this.active) {\n      return;\n    }\n\n    var pageNumber = Math.floor(index / this.pageSize);\n    this.goToPage(pageNumber);\n  };\n\n  PaginationProxy.prototype.isLastPageFound = function () {\n    return this.rowModel.isLastRowFound();\n  };\n\n  PaginationProxy.prototype.getCurrentPage = function () {\n    return this.currentPage;\n  };\n\n  PaginationProxy.prototype.goToNextPage = function () {\n    this.goToPage(this.currentPage + 1);\n  };\n\n  PaginationProxy.prototype.goToPreviousPage = function () {\n    this.goToPage(this.currentPage - 1);\n  };\n\n  PaginationProxy.prototype.goToFirstPage = function () {\n    this.goToPage(0);\n  };\n\n  PaginationProxy.prototype.goToLastPage = function () {\n    var rowCount = this.rowModel.getRowCount();\n    var lastPage = Math.floor(rowCount / this.pageSize);\n    this.goToPage(lastPage);\n  };\n\n  PaginationProxy.prototype.getPageSize = function () {\n    return this.pageSize;\n  };\n\n  PaginationProxy.prototype.getTotalPages = function () {\n    return this.totalPages;\n  };\n\n  PaginationProxy.prototype.setPageSize = function () {\n    // show put this into super class\n    this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n\n    if (!(this.pageSize >= 1)) {\n      this.pageSize = 100;\n    }\n  };\n\n  PaginationProxy.prototype.calculatePages = function () {\n    if (this.active) {\n      this.setPageSize();\n\n      if (this.paginateChildRows) {\n        this.calculatePagesAllRows();\n      } else {\n        this.calculatePagesMasterRowsOnly();\n      }\n    } else {\n      this.calculatedPagesNotActive();\n    }\n\n    this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n\n    if (this.topRowBounds) {\n      this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n    }\n\n    this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n\n    if (this.bottomRowBounds) {\n      this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n    }\n\n    this.pixelOffset = utils_1._.exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0;\n  };\n\n  PaginationProxy.prototype.setZeroRows = function () {\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = -1;\n    this.currentPage = 0;\n    this.totalPages = 0;\n  };\n\n  PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n    // const csrm = <ClientSideRowModel> this.rowModel;\n    // const rootNode = csrm.getRootNode();\n    // const masterRows = rootNode.childrenAfterSort;\n    this.masterRowCount = this.rowModel.getTopLevelRowCount();\n\n    if (this.masterRowCount === 0) {\n      this.setZeroRows();\n      return;\n    }\n\n    var masterLastRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(masterLastRowIndex / this.pageSize) + 1;\n\n    if (this.currentPage >= this.totalPages) {\n      this.currentPage = this.totalPages - 1;\n    }\n\n    if (!utils_1._.isNumeric(this.currentPage) || this.currentPage < 0) {\n      this.currentPage = 0;\n    }\n\n    var masterPageStartIndex = this.pageSize * this.currentPage;\n    var masterPageEndIndex = this.pageSize * (this.currentPage + 1) - 1;\n\n    if (masterPageEndIndex > masterLastRowIndex) {\n      masterPageEndIndex = masterLastRowIndex;\n    }\n\n    this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex); // masterRows[masterPageStartIndex].rowIndex;\n\n    if (masterPageEndIndex === masterLastRowIndex) {\n      // if showing the last master row, then we want to show the very last row of the model\n      this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    } else {\n      var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1); //masterRows[masterPageEndIndex + 1].rowIndex;\n      // this gets the index of the last child - eg current row is open, we want to display all children,\n      // the index of the last child is one less than the index of the next parent row.\n\n      this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n    }\n  };\n\n  PaginationProxy.prototype.getMasterRowCount = function () {\n    return this.masterRowCount;\n  };\n\n  PaginationProxy.prototype.calculatePagesAllRows = function () {\n    this.masterRowCount = this.rowModel.getRowCount();\n\n    if (this.masterRowCount === 0) {\n      this.setZeroRows();\n      return;\n    }\n\n    var maxRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(maxRowIndex / this.pageSize) + 1;\n\n    if (this.currentPage >= this.totalPages) {\n      this.currentPage = this.totalPages - 1;\n    }\n\n    if (!utils_1._.isNumeric(this.currentPage) || this.currentPage < 0) {\n      this.currentPage = 0;\n    }\n\n    this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n    this.bottomDisplayedRowIndex = this.pageSize * (this.currentPage + 1) - 1;\n\n    if (this.bottomDisplayedRowIndex > maxRowIndex) {\n      this.bottomDisplayedRowIndex = maxRowIndex;\n    }\n  };\n\n  PaginationProxy.prototype.calculatedPagesNotActive = function () {\n    this.pageSize = this.rowModel.getRowCount();\n    this.totalPages = 1;\n    this.currentPage = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n  };\n\n  __decorate([context_1.Autowired('rowModel'), __metadata(\"design:type\", Object)], PaginationProxy.prototype, \"rowModel\", void 0);\n\n  __decorate([context_1.Autowired('eventService'), __metadata(\"design:type\", eventService_1.EventService)], PaginationProxy.prototype, \"eventService\", void 0);\n\n  __decorate([context_1.Autowired('gridOptionsWrapper'), __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)], PaginationProxy.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([context_1.Autowired('selectionController'), __metadata(\"design:type\", selectionController_1.SelectionController)], PaginationProxy.prototype, \"selectionController\", void 0);\n\n  __decorate([context_1.Autowired('columnApi'), __metadata(\"design:type\", columnApi_1.ColumnApi)], PaginationProxy.prototype, \"columnApi\", void 0);\n\n  __decorate([context_1.Autowired('gridApi'), __metadata(\"design:type\", gridApi_1.GridApi)], PaginationProxy.prototype, \"gridApi\", void 0);\n\n  __decorate([context_1.PostConstruct, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], PaginationProxy.prototype, \"postConstruct\", null);\n\n  PaginationProxy = __decorate([context_1.Bean('paginationProxy')], PaginationProxy);\n  return PaginationProxy;\n}(beanStub_1.BeanStub);\n\nexports.PaginationProxy = PaginationProxy;","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/ag-grid-community/dist/lib/rowModels/paginationProxy.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","beanStub_1","require","eventService_1","events_1","context_1","gridOptionsWrapper_1","selectionController_1","columnApi_1","gridApi_1","utils_1","PaginationProxy","_super","_this","apply","currentPage","topDisplayedRowIndex","bottomDisplayedRowIndex","pixelOffset","masterRowCount","postConstruct","active","gridOptionsWrapper","isPagination","paginateChildRows","isPaginateChildRows","addDestroyableEventListener","eventService","Events","EVENT_MODEL_UPDATED","onModelUpdated","bind","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","res","rowModel","getPageFirstRow","getPageLastRow","calculatePages","modelUpdatedEvent","paginationChangedEvent","type","EVENT_PAGINATION_CHANGED","animate","newData","newPage","keepRenderedRows","api","gridApi","columnApi","dispatchEvent","goToPage","page","event","getPixelOffset","getRow","index","getRowNode","id","getRowIndexAtPixel","pixel","getCurrentPageHeight","_","missing","topRowBounds","bottomRowBounds","Math","max","rowTop","rowHeight","isRowPresent","rowNode","nodeIsInPage","rowIndex","isEmpty","isRowsToRender","getNodesInRangeForSelection","firstInRange","lastInRange","forEachNode","callback","getType","getRowBounds","getRowCount","goToPageWithIndex","pageNumber","floor","pageSize","isLastPageFound","isLastRowFound","getCurrentPage","goToNextPage","goToPreviousPage","goToFirstPage","goToLastPage","rowCount","lastPage","getPageSize","getTotalPages","totalPages","setPageSize","getPaginationPageSize","calculatePagesAllRows","calculatePagesMasterRowsOnly","calculatedPagesNotActive","exists","setZeroRows","getTopLevelRowCount","masterLastRowIndex","isNumeric","masterPageStartIndex","masterPageEndIndex","getTopLevelRowDisplayedIndex","firstIndexNotToShow","getMasterRowCount","maxRowIndex","Autowired","EventService","GridOptionsWrapper","SelectionController","ColumnApi","GridApi","PostConstruct","Function","Bean","BeanStub"],"mappings":"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","sourcesContent":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar beanStub_1 = require(\"../context/beanStub\");\nvar eventService_1 = require(\"../eventService\");\nvar events_1 = require(\"../events\");\nvar context_1 = require(\"../context/context\");\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\nvar selectionController_1 = require(\"../selectionController\");\nvar columnApi_1 = require(\"../columnController/columnApi\");\nvar gridApi_1 = require(\"../gridApi\");\nvar utils_1 = require(\"../utils\");\nvar PaginationProxy = /** @class */ (function (_super) {\n    __extends(PaginationProxy, _super);\n    function PaginationProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPage = 0;\n        _this.topDisplayedRowIndex = 0;\n        _this.bottomDisplayedRowIndex = 0;\n        _this.pixelOffset = 0;\n        _this.masterRowCount = 0;\n        return _this;\n    }\n    PaginationProxy.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isPagination();\n        this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n        this.addDestroyableEventListener(this.eventService, events_1.Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, 'paginationPageSize', this.onModelUpdated.bind(this));\n        this.onModelUpdated();\n    };\n    PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n        if (res) {\n            this.calculatePages();\n        }\n        return res;\n    };\n    PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: events_1.Events.EVENT_PAGINATION_CHANGED,\n            animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n            newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n            newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n            keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.goToPage = function (page) {\n        if (!this.active) {\n            return;\n        }\n        if (this.currentPage === page) {\n            return;\n        }\n        this.currentPage = page;\n        var event = {\n            type: events_1.Events.EVENT_MODEL_UPDATED,\n            animate: false,\n            keepRenderedRows: false,\n            newData: false,\n            newPage: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.onModelUpdated(event);\n    };\n    PaginationProxy.prototype.getPixelOffset = function () {\n        return this.pixelOffset;\n    };\n    PaginationProxy.prototype.getRow = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    PaginationProxy.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n        return this.rowModel.getRowIndexAtPixel(pixel);\n    };\n    PaginationProxy.prototype.getCurrentPageHeight = function () {\n        if (utils_1._.missing(this.topRowBounds) || utils_1._.missing(this.bottomRowBounds)) {\n            return 0;\n        }\n        return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n    };\n    PaginationProxy.prototype.isRowPresent = function (rowNode) {\n        if (!this.rowModel.isRowPresent(rowNode)) {\n            return false;\n        }\n        var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n        return nodeIsInPage;\n    };\n    PaginationProxy.prototype.isEmpty = function () {\n        return this.rowModel.isEmpty();\n    };\n    PaginationProxy.prototype.isRowsToRender = function () {\n        return this.rowModel.isRowsToRender();\n    };\n    PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n    };\n    PaginationProxy.prototype.forEachNode = function (callback) {\n        return this.rowModel.forEachNode(callback);\n    };\n    PaginationProxy.prototype.getType = function () {\n        return this.rowModel.getType();\n    };\n    PaginationProxy.prototype.getRowBounds = function (index) {\n        var res = this.rowModel.getRowBounds(index);\n        res.rowIndex = index;\n        return res;\n    };\n    PaginationProxy.prototype.getPageFirstRow = function () {\n        return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getPageLastRow = function () {\n        return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    PaginationProxy.prototype.goToPageWithIndex = function (index) {\n        if (!this.active) {\n            return;\n        }\n        var pageNumber = Math.floor(index / this.pageSize);\n        this.goToPage(pageNumber);\n    };\n    PaginationProxy.prototype.isLastPageFound = function () {\n        return this.rowModel.isLastRowFound();\n    };\n    PaginationProxy.prototype.getCurrentPage = function () {\n        return this.currentPage;\n    };\n    PaginationProxy.prototype.goToNextPage = function () {\n        this.goToPage(this.currentPage + 1);\n    };\n    PaginationProxy.prototype.goToPreviousPage = function () {\n        this.goToPage(this.currentPage - 1);\n    };\n    PaginationProxy.prototype.goToFirstPage = function () {\n        this.goToPage(0);\n    };\n    PaginationProxy.prototype.goToLastPage = function () {\n        var rowCount = this.rowModel.getRowCount();\n        var lastPage = Math.floor(rowCount / this.pageSize);\n        this.goToPage(lastPage);\n    };\n    PaginationProxy.prototype.getPageSize = function () {\n        return this.pageSize;\n    };\n    PaginationProxy.prototype.getTotalPages = function () {\n        return this.totalPages;\n    };\n    PaginationProxy.prototype.setPageSize = function () {\n        // show put this into super class\n        this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n        if (!(this.pageSize >= 1)) {\n            this.pageSize = 100;\n        }\n    };\n    PaginationProxy.prototype.calculatePages = function () {\n        if (this.active) {\n            this.setPageSize();\n            if (this.paginateChildRows) {\n                this.calculatePagesAllRows();\n            }\n            else {\n                this.calculatePagesMasterRowsOnly();\n            }\n        }\n        else {\n            this.calculatedPagesNotActive();\n        }\n        this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n        if (this.topRowBounds) {\n            this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n        }\n        this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n        if (this.bottomRowBounds) {\n            this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n        }\n        this.pixelOffset = utils_1._.exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0;\n    };\n    PaginationProxy.prototype.setZeroRows = function () {\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = -1;\n        this.currentPage = 0;\n        this.totalPages = 0;\n    };\n    PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n        // const csrm = <ClientSideRowModel> this.rowModel;\n        // const rootNode = csrm.getRootNode();\n        // const masterRows = rootNode.childrenAfterSort;\n        this.masterRowCount = this.rowModel.getTopLevelRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var masterLastRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((masterLastRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!utils_1._.isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        var masterPageStartIndex = this.pageSize * this.currentPage;\n        var masterPageEndIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (masterPageEndIndex > masterLastRowIndex) {\n            masterPageEndIndex = masterLastRowIndex;\n        }\n        this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);\n        // masterRows[masterPageStartIndex].rowIndex;\n        if (masterPageEndIndex === masterLastRowIndex) {\n            // if showing the last master row, then we want to show the very last row of the model\n            this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n        }\n        else {\n            var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1);\n            //masterRows[masterPageEndIndex + 1].rowIndex;\n            // this gets the index of the last child - eg current row is open, we want to display all children,\n            // the index of the last child is one less than the index of the next parent row.\n            this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n        }\n    };\n    PaginationProxy.prototype.getMasterRowCount = function () {\n        return this.masterRowCount;\n    };\n    PaginationProxy.prototype.calculatePagesAllRows = function () {\n        this.masterRowCount = this.rowModel.getRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var maxRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((maxRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!utils_1._.isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n        this.bottomDisplayedRowIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (this.bottomDisplayedRowIndex > maxRowIndex) {\n            this.bottomDisplayedRowIndex = maxRowIndex;\n        }\n    };\n    PaginationProxy.prototype.calculatedPagesNotActive = function () {\n        this.pageSize = this.rowModel.getRowCount();\n        this.totalPages = 1;\n        this.currentPage = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    };\n    __decorate([\n        context_1.Autowired('rowModel'),\n        __metadata(\"design:type\", Object)\n    ], PaginationProxy.prototype, \"rowModel\", void 0);\n    __decorate([\n        context_1.Autowired('eventService'),\n        __metadata(\"design:type\", eventService_1.EventService)\n    ], PaginationProxy.prototype, \"eventService\", void 0);\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], PaginationProxy.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        context_1.Autowired('selectionController'),\n        __metadata(\"design:type\", selectionController_1.SelectionController)\n    ], PaginationProxy.prototype, \"selectionController\", void 0);\n    __decorate([\n        context_1.Autowired('columnApi'),\n        __metadata(\"design:type\", columnApi_1.ColumnApi)\n    ], PaginationProxy.prototype, \"columnApi\", void 0);\n    __decorate([\n        context_1.Autowired('gridApi'),\n        __metadata(\"design:type\", gridApi_1.GridApi)\n    ], PaginationProxy.prototype, \"gridApi\", void 0);\n    __decorate([\n        context_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], PaginationProxy.prototype, \"postConstruct\", null);\n    PaginationProxy = __decorate([\n        context_1.Bean('paginationProxy')\n    ], PaginationProxy);\n    return PaginationProxy;\n}(beanStub_1.BeanStub));\nexports.PaginationProxy = PaginationProxy;\n"]},"metadata":{},"sourceType":"script"}