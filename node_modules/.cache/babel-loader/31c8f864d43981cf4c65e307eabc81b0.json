{"ast":null,"code":"/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar context_1 = require(\"../context/context\");\n\nvar filterManager_1 = require(\"../filter/filterManager\");\n\nvar popupService_1 = require(\"../widgets/popupService\");\n\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\n\nvar eventService_1 = require(\"../eventService\");\n\nvar utils_1 = require(\"../utils\");\n\nvar StandardMenuFactory =\n/** @class */\nfunction () {\n  function StandardMenuFactory() {}\n\n  StandardMenuFactory.prototype.hideActiveMenu = function () {\n    if (this.hidePopup) {\n      this.hidePopup();\n    }\n  };\n\n  StandardMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent) {\n    var _this = this;\n\n    this.showPopup(column, function (eMenu) {\n      _this.popupService.positionPopupUnderMouseEvent({\n        column: column,\n        type: 'columnMenu',\n        mouseEvent: mouseEvent,\n        ePopup: eMenu\n      });\n    });\n  };\n\n  StandardMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource) {\n    var _this = this;\n\n    this.showPopup(column, function (eMenu) {\n      _this.popupService.positionPopupUnderComponent({\n        type: 'columnMenu',\n        eventSource: eventSource,\n        ePopup: eMenu,\n        keepWithinBounds: true,\n        column: column\n      });\n    });\n  };\n\n  StandardMenuFactory.prototype.showPopup = function (column, positionCallback) {\n    var _this = this;\n\n    var filterWrapper = this.filterManager.getOrCreateFilterWrapper(column, 'COLUMN_MENU');\n    var eMenu = document.createElement('div');\n\n    utils_1._.addCssClass(eMenu, 'ag-menu');\n\n    filterWrapper.guiPromise.promise.then(function (gui) {\n      eMenu.appendChild(gui);\n    });\n    var hidePopup;\n\n    var bodyScrollListener = function (event) {\n      // if h scroll, popup is no longer over the column\n      if (event.direction === 'horizontal') {\n        hidePopup();\n      }\n    };\n\n    this.eventService.addEventListener('bodyScroll', bodyScrollListener);\n\n    var closedCallback = function () {\n      _this.eventService.removeEventListener('bodyScroll', bodyScrollListener);\n\n      column.setMenuVisible(false, \"contextMenu\");\n    }; // need to show filter before positioning, as only after filter\n    // is visible can we find out what the width of it is\n\n\n    hidePopup = this.popupService.addAsModalPopup(eMenu, true, closedCallback);\n    positionCallback(eMenu);\n    filterWrapper.filterPromise.then(function (filter) {\n      if (filter.afterGuiAttached) {\n        var params = {\n          hidePopup: hidePopup\n        };\n        filter.afterGuiAttached(params);\n      }\n    });\n    this.hidePopup = hidePopup;\n    column.setMenuVisible(true, \"contextMenu\");\n  };\n\n  StandardMenuFactory.prototype.isMenuEnabled = function (column) {\n    // for standard, we show menu if filter is enabled, and he menu is not suppressed\n    return column.isFilterAllowed();\n  };\n\n  __decorate([context_1.Autowired('eventService'), __metadata(\"design:type\", eventService_1.EventService)], StandardMenuFactory.prototype, \"eventService\", void 0);\n\n  __decorate([context_1.Autowired('filterManager'), __metadata(\"design:type\", filterManager_1.FilterManager)], StandardMenuFactory.prototype, \"filterManager\", void 0);\n\n  __decorate([context_1.Autowired('popupService'), __metadata(\"design:type\", popupService_1.PopupService)], StandardMenuFactory.prototype, \"popupService\", void 0);\n\n  __decorate([context_1.Autowired('gridOptionsWrapper'), __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)], StandardMenuFactory.prototype, \"gridOptionsWrapper\", void 0);\n\n  StandardMenuFactory = __decorate([context_1.Bean('menuFactory')], StandardMenuFactory);\n  return StandardMenuFactory;\n}();\n\nexports.StandardMenuFactory = StandardMenuFactory;","map":{"version":3,"sources":["/Users/dirkmennecke77/Desktop/Lageplan/node_modules/ag-grid-community/dist/lib/headerRendering/standardMenu.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","context_1","require","filterManager_1","popupService_1","gridOptionsWrapper_1","eventService_1","utils_1","StandardMenuFactory","prototype","hideActiveMenu","hidePopup","showMenuAfterMouseEvent","column","mouseEvent","_this","showPopup","eMenu","popupService","positionPopupUnderMouseEvent","type","ePopup","showMenuAfterButtonClick","eventSource","positionPopupUnderComponent","keepWithinBounds","positionCallback","filterWrapper","filterManager","getOrCreateFilterWrapper","document","createElement","_","addCssClass","guiPromise","promise","then","gui","appendChild","bodyScrollListener","event","direction","eventService","addEventListener","closedCallback","removeEventListener","setMenuVisible","addAsModalPopup","filterPromise","filter","afterGuiAttached","params","isMenuEnabled","isFilterAllowed","Autowired","EventService","FilterManager","PopupService","GridOptionsWrapper","Bean"],"mappings":"AAAA;;;;;;AAMA;;AACA,IAAIA,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,MAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,MAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,MAA2HO,CAA3H;AACA,MAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIH,CAAC,GAAGV,UAAU,CAACa,CAAD,CAAlB,EAAuBN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACT,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACT,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,SAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;;AAMA,IAAIQ,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1D,MAAI,OAAON,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACO,QAAf,KAA4B,UAA/D,EAA2E,OAAOP,OAAO,CAACO,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,CAFD;;AAGAT,MAAM,CAACM,cAAP,CAAsBK,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,SAAS,GAAGC,OAAO,CAAC,oBAAD,CAAvB;;AACA,IAAIC,eAAe,GAAGD,OAAO,CAAC,yBAAD,CAA7B;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,yBAAD,CAA5B;;AACA,IAAIG,oBAAoB,GAAGH,OAAO,CAAC,uBAAD,CAAlC;;AACA,IAAII,cAAc,GAAGJ,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIK,OAAO,GAAGL,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIM,mBAAmB;AAAG;AAAe,YAAY;AACjD,WAASA,mBAAT,GAA+B,CAC9B;;AACDA,EAAAA,mBAAmB,CAACC,SAApB,CAA8BC,cAA9B,GAA+C,YAAY;AACvD,QAAI,KAAKC,SAAT,EAAoB;AAChB,WAAKA,SAAL;AACH;AACJ,GAJD;;AAKAH,EAAAA,mBAAmB,CAACC,SAApB,CAA8BG,uBAA9B,GAAwD,UAAUC,MAAV,EAAkBC,UAAlB,EAA8B;AAClF,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKC,SAAL,CAAeH,MAAf,EAAuB,UAAUI,KAAV,EAAiB;AACpCF,MAAAA,KAAK,CAACG,YAAN,CAAmBC,4BAAnB,CAAgD;AAC5CN,QAAAA,MAAM,EAAEA,MADoC;AAE5CO,QAAAA,IAAI,EAAE,YAFsC;AAG5CN,QAAAA,UAAU,EAAEA,UAHgC;AAI5CO,QAAAA,MAAM,EAAEJ;AAJoC,OAAhD;AAMH,KAPD;AAQH,GAVD;;AAWAT,EAAAA,mBAAmB,CAACC,SAApB,CAA8Ba,wBAA9B,GAAyD,UAAUT,MAAV,EAAkBU,WAAlB,EAA+B;AACpF,QAAIR,KAAK,GAAG,IAAZ;;AACA,SAAKC,SAAL,CAAeH,MAAf,EAAuB,UAAUI,KAAV,EAAiB;AACpCF,MAAAA,KAAK,CAACG,YAAN,CAAmBM,2BAAnB,CAA+C;AAC3CJ,QAAAA,IAAI,EAAE,YADqC;AACvBG,QAAAA,WAAW,EAAEA,WADU;AAE3CF,QAAAA,MAAM,EAAEJ,KAFmC;AAE5BQ,QAAAA,gBAAgB,EAAE,IAFU;AAEJZ,QAAAA,MAAM,EAAEA;AAFJ,OAA/C;AAIH,KALD;AAMH,GARD;;AASAL,EAAAA,mBAAmB,CAACC,SAApB,CAA8BO,SAA9B,GAA0C,UAAUH,MAAV,EAAkBa,gBAAlB,EAAoC;AAC1E,QAAIX,KAAK,GAAG,IAAZ;;AACA,QAAIY,aAAa,GAAG,KAAKC,aAAL,CAAmBC,wBAAnB,CAA4ChB,MAA5C,EAAoD,aAApD,CAApB;AACA,QAAII,KAAK,GAAGa,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;;AACAxB,IAAAA,OAAO,CAACyB,CAAR,CAAUC,WAAV,CAAsBhB,KAAtB,EAA6B,SAA7B;;AACAU,IAAAA,aAAa,CAACO,UAAd,CAAyBC,OAAzB,CAAiCC,IAAjC,CAAsC,UAAUC,GAAV,EAAe;AACjDpB,MAAAA,KAAK,CAACqB,WAAN,CAAkBD,GAAlB;AACH,KAFD;AAGA,QAAI1B,SAAJ;;AACA,QAAI4B,kBAAkB,GAAG,UAAUC,KAAV,EAAiB;AACtC;AACA,UAAIA,KAAK,CAACC,SAAN,KAAoB,YAAxB,EAAsC;AAClC9B,QAAAA,SAAS;AACZ;AACJ,KALD;;AAMA,SAAK+B,YAAL,CAAkBC,gBAAlB,CAAmC,YAAnC,EAAiDJ,kBAAjD;;AACA,QAAIK,cAAc,GAAG,YAAY;AAC7B7B,MAAAA,KAAK,CAAC2B,YAAN,CAAmBG,mBAAnB,CAAuC,YAAvC,EAAqDN,kBAArD;;AACA1B,MAAAA,MAAM,CAACiC,cAAP,CAAsB,KAAtB,EAA6B,aAA7B;AACH,KAHD,CAhB0E,CAoB1E;AACA;;;AACAnC,IAAAA,SAAS,GAAG,KAAKO,YAAL,CAAkB6B,eAAlB,CAAkC9B,KAAlC,EAAyC,IAAzC,EAA+C2B,cAA/C,CAAZ;AACAlB,IAAAA,gBAAgB,CAACT,KAAD,CAAhB;AACAU,IAAAA,aAAa,CAACqB,aAAd,CAA4BZ,IAA5B,CAAiC,UAAUa,MAAV,EAAkB;AAC/C,UAAIA,MAAM,CAACC,gBAAX,EAA6B;AACzB,YAAIC,MAAM,GAAG;AACTxC,UAAAA,SAAS,EAAEA;AADF,SAAb;AAGAsC,QAAAA,MAAM,CAACC,gBAAP,CAAwBC,MAAxB;AACH;AACJ,KAPD;AAQA,SAAKxC,SAAL,GAAiBA,SAAjB;AACAE,IAAAA,MAAM,CAACiC,cAAP,CAAsB,IAAtB,EAA4B,aAA5B;AACH,GAlCD;;AAmCAtC,EAAAA,mBAAmB,CAACC,SAApB,CAA8B2C,aAA9B,GAA8C,UAAUvC,MAAV,EAAkB;AAC5D;AACA,WAAOA,MAAM,CAACwC,eAAP,EAAP;AACH,GAHD;;AAIA1E,EAAAA,UAAU,CAAC,CACPsB,SAAS,CAACqD,SAAV,CAAoB,cAApB,CADO,EAEP3D,UAAU,CAAC,aAAD,EAAgBW,cAAc,CAACiD,YAA/B,CAFH,CAAD,EAGP/C,mBAAmB,CAACC,SAHb,EAGwB,cAHxB,EAGwC,KAAK,CAH7C,CAAV;;AAIA9B,EAAAA,UAAU,CAAC,CACPsB,SAAS,CAACqD,SAAV,CAAoB,eAApB,CADO,EAEP3D,UAAU,CAAC,aAAD,EAAgBQ,eAAe,CAACqD,aAAhC,CAFH,CAAD,EAGPhD,mBAAmB,CAACC,SAHb,EAGwB,eAHxB,EAGyC,KAAK,CAH9C,CAAV;;AAIA9B,EAAAA,UAAU,CAAC,CACPsB,SAAS,CAACqD,SAAV,CAAoB,cAApB,CADO,EAEP3D,UAAU,CAAC,aAAD,EAAgBS,cAAc,CAACqD,YAA/B,CAFH,CAAD,EAGPjD,mBAAmB,CAACC,SAHb,EAGwB,cAHxB,EAGwC,KAAK,CAH7C,CAAV;;AAIA9B,EAAAA,UAAU,CAAC,CACPsB,SAAS,CAACqD,SAAV,CAAoB,oBAApB,CADO,EAEP3D,UAAU,CAAC,aAAD,EAAgBU,oBAAoB,CAACqD,kBAArC,CAFH,CAAD,EAGPlD,mBAAmB,CAACC,SAHb,EAGwB,oBAHxB,EAG8C,KAAK,CAHnD,CAAV;;AAIAD,EAAAA,mBAAmB,GAAG7B,UAAU,CAAC,CAC7BsB,SAAS,CAAC0D,IAAV,CAAe,aAAf,CAD6B,CAAD,EAE7BnD,mBAF6B,CAAhC;AAGA,SAAOA,mBAAP;AACH,CAvFwC,EAAzC;;AAwFAT,OAAO,CAACS,mBAAR,GAA8BA,mBAA9B","sourcesContent":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v21.2.2\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar context_1 = require(\"../context/context\");\nvar filterManager_1 = require(\"../filter/filterManager\");\nvar popupService_1 = require(\"../widgets/popupService\");\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\nvar eventService_1 = require(\"../eventService\");\nvar utils_1 = require(\"../utils\");\nvar StandardMenuFactory = /** @class */ (function () {\n    function StandardMenuFactory() {\n    }\n    StandardMenuFactory.prototype.hideActiveMenu = function () {\n        if (this.hidePopup) {\n            this.hidePopup();\n        }\n    };\n    StandardMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderMouseEvent({\n                column: column,\n                type: 'columnMenu',\n                mouseEvent: mouseEvent,\n                ePopup: eMenu\n            });\n        });\n    };\n    StandardMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderComponent({\n                type: 'columnMenu', eventSource: eventSource,\n                ePopup: eMenu, keepWithinBounds: true, column: column\n            });\n        });\n    };\n    StandardMenuFactory.prototype.showPopup = function (column, positionCallback) {\n        var _this = this;\n        var filterWrapper = this.filterManager.getOrCreateFilterWrapper(column, 'COLUMN_MENU');\n        var eMenu = document.createElement('div');\n        utils_1._.addCssClass(eMenu, 'ag-menu');\n        filterWrapper.guiPromise.promise.then(function (gui) {\n            eMenu.appendChild(gui);\n        });\n        var hidePopup;\n        var bodyScrollListener = function (event) {\n            // if h scroll, popup is no longer over the column\n            if (event.direction === 'horizontal') {\n                hidePopup();\n            }\n        };\n        this.eventService.addEventListener('bodyScroll', bodyScrollListener);\n        var closedCallback = function () {\n            _this.eventService.removeEventListener('bodyScroll', bodyScrollListener);\n            column.setMenuVisible(false, \"contextMenu\");\n        };\n        // need to show filter before positioning, as only after filter\n        // is visible can we find out what the width of it is\n        hidePopup = this.popupService.addAsModalPopup(eMenu, true, closedCallback);\n        positionCallback(eMenu);\n        filterWrapper.filterPromise.then(function (filter) {\n            if (filter.afterGuiAttached) {\n                var params = {\n                    hidePopup: hidePopup\n                };\n                filter.afterGuiAttached(params);\n            }\n        });\n        this.hidePopup = hidePopup;\n        column.setMenuVisible(true, \"contextMenu\");\n    };\n    StandardMenuFactory.prototype.isMenuEnabled = function (column) {\n        // for standard, we show menu if filter is enabled, and he menu is not suppressed\n        return column.isFilterAllowed();\n    };\n    __decorate([\n        context_1.Autowired('eventService'),\n        __metadata(\"design:type\", eventService_1.EventService)\n    ], StandardMenuFactory.prototype, \"eventService\", void 0);\n    __decorate([\n        context_1.Autowired('filterManager'),\n        __metadata(\"design:type\", filterManager_1.FilterManager)\n    ], StandardMenuFactory.prototype, \"filterManager\", void 0);\n    __decorate([\n        context_1.Autowired('popupService'),\n        __metadata(\"design:type\", popupService_1.PopupService)\n    ], StandardMenuFactory.prototype, \"popupService\", void 0);\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], StandardMenuFactory.prototype, \"gridOptionsWrapper\", void 0);\n    StandardMenuFactory = __decorate([\n        context_1.Bean('menuFactory')\n    ], StandardMenuFactory);\n    return StandardMenuFactory;\n}());\nexports.StandardMenuFactory = StandardMenuFactory;\n"]},"metadata":{},"sourceType":"script"}